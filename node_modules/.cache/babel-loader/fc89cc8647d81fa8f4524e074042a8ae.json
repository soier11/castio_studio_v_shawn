{"ast":null,"code":"import React,{Component}from\"react\";import{injectIntl}from\"react-intl\";import{UncontrolledDropdown,DropdownItem,DropdownToggle,DropdownMenu,Input}from\"reactstrap\";import{NavLink}from\"react-router-dom\";import{connect}from\"react-redux\";import IntlMessages from\"../../helpers/IntlMessages\";import{setContainerClassnames,clickOnMobileMenu,changeLocale}from\"../../redux/actions\";import{menuHiddenBreakpoint,searchPath,localeOptions,isDarkSwitchActive}from\"../../constants/defaultValues\";import{MobileMenuIcon,MenuIcon}from\"../../components/svg\";import TopnavEasyAccess from\"./Topnav.EasyAccess\";import TopnavNotifications from\"./Topnav.Notifications\";import TopnavDarkSwitch from\"./Topnav.DarkSwitch\";import{getDirection,setDirection}from\"../../helpers/Utils\";class TopNav extends Component{constructor(props){super(props);this.handleChangeLocale=(locale,direction)=>{this.props.changeLocale(locale);const currentDirection=getDirection().direction;if(direction!==currentDirection){setDirection(direction);setTimeout(()=>{window.location.reload();},500);}};this.isInFullScreen=()=>{return document.fullscreenElement&&document.fullscreenElement!==null||document.webkitFullscreenElement&&document.webkitFullscreenElement!==null||document.mozFullScreenElement&&document.mozFullScreenElement!==null||document.msFullscreenElement&&document.msFullscreenElement!==null;};this.handleSearchIconClick=e=>{if(window.innerWidth<menuHiddenBreakpoint){let elem=e.target;if(!e.target.classList.contains(\"search\")){if(e.target.parentElement.classList.contains(\"search\")){elem=e.target.parentElement;}else if(e.target.parentElement.parentElement.classList.contains(\"search\")){elem=e.target.parentElement.parentElement;}}if(elem.classList.contains(\"mobile-view\")){this.search();elem.classList.remove(\"mobile-view\");this.removeEventsSearch();}else{elem.classList.add(\"mobile-view\");this.addEventsSearch();}}else{this.search();}};this.addEventsSearch=()=>{document.addEventListener(\"click\",this.handleDocumentClickSearch,true);};this.removeEventsSearch=()=>{document.removeEventListener(\"click\",this.handleDocumentClickSearch,true);};this.handleDocumentClickSearch=e=>{let isSearchClick=false;if(e.target&&e.target.classList&&(e.target.classList.contains(\"navbar\")||e.target.classList.contains(\"simple-icon-magnifier\"))){isSearchClick=true;if(e.target.classList.contains(\"simple-icon-magnifier\")){this.search();}}else if(e.target.parentElement&&e.target.parentElement.classList&&e.target.parentElement.classList.contains(\"search\")){isSearchClick=true;}if(!isSearchClick){const input=document.querySelector(\".mobile-view\");if(input&&input.classList)input.classList.remove(\"mobile-view\");this.removeEventsSearch();this.setState({searchKeyword:\"\"});}};this.handleSearchInputChange=e=>{this.setState({searchKeyword:e.target.value});};this.handleSearchInputKeyPress=e=>{if(e.key===\"Enter\"){this.search();}};this.search=()=>{this.props.history.push(searchPath+\"/\"+this.state.searchKeyword);this.setState({searchKeyword:\"\"});};this.toggleFullScreen=()=>{const isInFullScreen=this.isInFullScreen();var docElm=document.documentElement;if(!isInFullScreen){if(docElm.requestFullscreen){docElm.requestFullscreen();}else if(docElm.mozRequestFullScreen){docElm.mozRequestFullScreen();}else if(docElm.webkitRequestFullScreen){docElm.webkitRequestFullScreen();}else if(docElm.msRequestFullscreen){docElm.msRequestFullscreen();}}else{if(document.exitFullscreen){document.exitFullscreen();}else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}}this.setState({isInFullScreen:!isInFullScreen});};this.handleLogout=()=>{//logout\n};this.menuButtonClick=(e,menuClickCount,containerClassnames)=>{e.preventDefault();setTimeout(()=>{var event=document.createEvent(\"HTMLEvents\");event.initEvent(\"resize\",false,false);window.dispatchEvent(event);},350);this.props.setContainerClassnames(++menuClickCount,containerClassnames,this.props.selectedMenuHasSubItems);};this.mobileMenuButtonClick=(e,containerClassnames)=>{e.preventDefault();this.props.clickOnMobileMenu(containerClassnames);};this.state={isInFullScreen:false,searchKeyword:\"\"};}render(){const _this$props=this.props,containerClassnames=_this$props.containerClassnames,menuClickCount=_this$props.menuClickCount,locale=_this$props.locale;const messages=this.props.intl.messages;return/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar fixed-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center navbar-left\"},/*#__PURE__*/React.createElement(NavLink,{to:\"#\",location:{},className:\"menu-button d-none d-md-block\",onClick:e=>this.menuButtonClick(e,menuClickCount,containerClassnames)},/*#__PURE__*/React.createElement(MenuIcon,null)),/*#__PURE__*/React.createElement(NavLink,{to:\"#\",location:{},className:\"menu-button-mobile d-xs-block d-sm-block d-md-none\",onClick:e=>this.mobileMenuButtonClick(e,containerClassnames)},/*#__PURE__*/React.createElement(MobileMenuIcon,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline-block\"},/*#__PURE__*/React.createElement(UncontrolledDropdown,{className:\"ml-2\"},/*#__PURE__*/React.createElement(DropdownToggle,{caret:true,color:\"light\",size:\"sm\",className:\"language-button\"},/*#__PURE__*/React.createElement(\"span\",{className:\"name\"},locale.toUpperCase())),/*#__PURE__*/React.createElement(DropdownMenu,{className:\"mt-3\",right:true},localeOptions.map(l=>{return/*#__PURE__*/React.createElement(DropdownItem,{onClick:()=>this.handleChangeLocale(l.id,l.direction),key:l.id},l.name);}))))),/*#__PURE__*/React.createElement(\"a\",{className:\"navbar-logo\",href:\"/\"},/*#__PURE__*/React.createElement(\"span\",{className:\"logo d-none d-xs-block\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"logo-mobile d-block d-xs-none\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"navbar-right\"},isDarkSwitchActive&&/*#__PURE__*/React.createElement(TopnavDarkSwitch,null),/*#__PURE__*/React.createElement(\"div\",{className:\"header-icons d-inline-block align-middle\"},/*#__PURE__*/React.createElement(TopnavNotifications,null),/*#__PURE__*/React.createElement(\"button\",{className:\"header-icon btn btn-empty d-none d-sm-inline-block\",type:\"button\",id:\"fullScreenButton\",onClick:this.toggleFullScreen},this.state.isInFullScreen?/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-size-actual d-block\"}):/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-size-fullscreen d-block\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"user d-inline-block\"},/*#__PURE__*/React.createElement(UncontrolledDropdown,{className:\"dropdown-menu-right\"},/*#__PURE__*/React.createElement(DropdownToggle,{className:\"p-0\",color:\"empty\"},/*#__PURE__*/React.createElement(\"span\",{className:\"name mr-1\"},\"Sarah Kortney\"),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"img\",{alt:\"Profile\",src:\"/assets/img/profile-pic-l.jpg\"}))),/*#__PURE__*/React.createElement(DropdownMenu,{className:\"mt-3\",right:true},/*#__PURE__*/React.createElement(DropdownItem,null,\"Account\"),/*#__PURE__*/React.createElement(DropdownItem,null,\"Features\"),/*#__PURE__*/React.createElement(DropdownItem,null,\"History\"),/*#__PURE__*/React.createElement(DropdownItem,null,\"Support\"),/*#__PURE__*/React.createElement(DropdownItem,{divider:true}),/*#__PURE__*/React.createElement(DropdownItem,{onClick:()=>this.handleLogout()},\"Sign out\"))))));}}const mapStateToProps=({menu,settings})=>{const containerClassnames=menu.containerClassnames,menuClickCount=menu.menuClickCount,selectedMenuHasSubItems=menu.selectedMenuHasSubItems;const locale=settings.locale;return{containerClassnames,menuClickCount,selectedMenuHasSubItems,locale};};export default injectIntl(connect(mapStateToProps,{setContainerClassnames,clickOnMobileMenu,changeLocale})(TopNav));","map":{"version":3,"sources":["/Users/soier/Code/studio_v_shawn/studio_v2/src/containers/navs/Topnav.js"],"names":["React","Component","injectIntl","UncontrolledDropdown","DropdownItem","DropdownToggle","DropdownMenu","Input","NavLink","connect","IntlMessages","setContainerClassnames","clickOnMobileMenu","changeLocale","menuHiddenBreakpoint","searchPath","localeOptions","isDarkSwitchActive","MobileMenuIcon","MenuIcon","TopnavEasyAccess","TopnavNotifications","TopnavDarkSwitch","getDirection","setDirection","TopNav","constructor","props","handleChangeLocale","locale","direction","currentDirection","setTimeout","window","location","reload","isInFullScreen","document","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","handleSearchIconClick","e","innerWidth","elem","target","classList","contains","parentElement","search","remove","removeEventsSearch","add","addEventsSearch","addEventListener","handleDocumentClickSearch","removeEventListener","isSearchClick","input","querySelector","setState","searchKeyword","handleSearchInputChange","value","handleSearchInputKeyPress","key","history","push","state","toggleFullScreen","docElm","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","handleLogout","menuButtonClick","menuClickCount","containerClassnames","preventDefault","event","createEvent","initEvent","dispatchEvent","selectedMenuHasSubItems","mobileMenuButtonClick","render","messages","intl","toUpperCase","map","l","id","name","mapStateToProps","menu","settings"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { injectIntl } from \"react-intl\";\r\nimport {\r\n  UncontrolledDropdown,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  Input\r\n} from \"reactstrap\";\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport IntlMessages from \"../../helpers/IntlMessages\";\r\nimport {\r\n  setContainerClassnames,\r\n  clickOnMobileMenu,\r\n  changeLocale\r\n} from \"../../redux/actions\";\r\n\r\nimport {\r\n  menuHiddenBreakpoint,\r\n  searchPath,\r\n  localeOptions,\r\n  isDarkSwitchActive,\r\n} from \"../../constants/defaultValues\";\r\n\r\nimport { MobileMenuIcon, MenuIcon } from \"../../components/svg\";\r\nimport TopnavEasyAccess from \"./Topnav.EasyAccess\";\r\nimport TopnavNotifications from \"./Topnav.Notifications\";\r\nimport TopnavDarkSwitch from \"./Topnav.DarkSwitch\";\r\n\r\nimport { getDirection, setDirection } from \"../../helpers/Utils\";\r\n\r\nclass TopNav extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isInFullScreen: false,\r\n      searchKeyword: \"\"\r\n    };\r\n  }\r\n\r\n  handleChangeLocale = (locale, direction) => {\r\n    this.props.changeLocale(locale);\r\n\r\n    const currentDirection = getDirection().direction;\r\n    if (direction !== currentDirection) {\r\n      setDirection(direction);\r\n      setTimeout(() => {\r\n        window.location.reload();\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  isInFullScreen = () => {\r\n    return (\r\n      (document.fullscreenElement && document.fullscreenElement !== null) ||\r\n      (document.webkitFullscreenElement &&\r\n        document.webkitFullscreenElement !== null) ||\r\n      (document.mozFullScreenElement &&\r\n        document.mozFullScreenElement !== null) ||\r\n      (document.msFullscreenElement && document.msFullscreenElement !== null)\r\n    );\r\n  };\r\n  handleSearchIconClick = e => {\r\n    if (window.innerWidth < menuHiddenBreakpoint) {\r\n      let elem = e.target;\r\n      if (!e.target.classList.contains(\"search\")) {\r\n        if (e.target.parentElement.classList.contains(\"search\")) {\r\n          elem = e.target.parentElement;\r\n        } else if (\r\n          e.target.parentElement.parentElement.classList.contains(\"search\")\r\n        ) {\r\n          elem = e.target.parentElement.parentElement;\r\n        }\r\n      }\r\n\r\n      if (elem.classList.contains(\"mobile-view\")) {\r\n        this.search();\r\n        elem.classList.remove(\"mobile-view\");\r\n        this.removeEventsSearch();\r\n      } else {\r\n        elem.classList.add(\"mobile-view\");\r\n        this.addEventsSearch();\r\n      }\r\n    } else {\r\n      this.search();\r\n    }\r\n  };\r\n  addEventsSearch = () => {\r\n    document.addEventListener(\"click\", this.handleDocumentClickSearch, true);\r\n  };\r\n  removeEventsSearch = () => {\r\n    document.removeEventListener(\"click\", this.handleDocumentClickSearch, true);\r\n  };\r\n\r\n  handleDocumentClickSearch = e => {\r\n    let isSearchClick = false;\r\n    if (\r\n      e.target &&\r\n      e.target.classList &&\r\n      (e.target.classList.contains(\"navbar\") ||\r\n        e.target.classList.contains(\"simple-icon-magnifier\"))\r\n    ) {\r\n      isSearchClick = true;\r\n      if (e.target.classList.contains(\"simple-icon-magnifier\")) {\r\n        this.search();\r\n      }\r\n    } else if (\r\n      e.target.parentElement &&\r\n      e.target.parentElement.classList &&\r\n      e.target.parentElement.classList.contains(\"search\")\r\n    ) {\r\n      isSearchClick = true;\r\n    }\r\n\r\n    if (!isSearchClick) {\r\n      const input = document.querySelector(\".mobile-view\");\r\n      if (input && input.classList) input.classList.remove(\"mobile-view\");\r\n      this.removeEventsSearch();\r\n      this.setState({\r\n        searchKeyword: \"\"\r\n      });\r\n    }\r\n  };\r\n  handleSearchInputChange = e => {\r\n    this.setState({\r\n      searchKeyword: e.target.value\r\n    });\r\n  };\r\n  handleSearchInputKeyPress = e => {\r\n    if (e.key === \"Enter\") {\r\n      this.search();\r\n    }\r\n  };\r\n\r\n  search = () => {\r\n    this.props.history.push(searchPath + \"/\" + this.state.searchKeyword);\r\n    this.setState({\r\n      searchKeyword: \"\"\r\n    });\r\n  };\r\n\r\n  toggleFullScreen = () => {\r\n    const isInFullScreen = this.isInFullScreen();\r\n\r\n    var docElm = document.documentElement;\r\n    if (!isInFullScreen) {\r\n      if (docElm.requestFullscreen) {\r\n        docElm.requestFullscreen();\r\n      } else if (docElm.mozRequestFullScreen) {\r\n        docElm.mozRequestFullScreen();\r\n      } else if (docElm.webkitRequestFullScreen) {\r\n        docElm.webkitRequestFullScreen();\r\n      } else if (docElm.msRequestFullscreen) {\r\n        docElm.msRequestFullscreen();\r\n      }\r\n    } else {\r\n      if (document.exitFullscreen) {\r\n        document.exitFullscreen();\r\n      } else if (document.webkitExitFullscreen) {\r\n        document.webkitExitFullscreen();\r\n      } else if (document.mozCancelFullScreen) {\r\n        document.mozCancelFullScreen();\r\n      } else if (document.msExitFullscreen) {\r\n        document.msExitFullscreen();\r\n      }\r\n    }\r\n    this.setState({\r\n      isInFullScreen: !isInFullScreen\r\n    });\r\n  };\r\n\r\n  handleLogout = () => {\r\n    //logout\r\n  };\r\n\r\n  menuButtonClick = (e, menuClickCount, containerClassnames) => {\r\n    e.preventDefault();\r\n\r\n    setTimeout(() => {\r\n      var event = document.createEvent(\"HTMLEvents\");\r\n      event.initEvent(\"resize\", false, false);\r\n      window.dispatchEvent(event);\r\n    }, 350);\r\n    this.props.setContainerClassnames(\r\n      ++menuClickCount,\r\n      containerClassnames,\r\n      this.props.selectedMenuHasSubItems\r\n    );\r\n  };\r\n  mobileMenuButtonClick = (e, containerClassnames) => {\r\n    e.preventDefault();\r\n    this.props.clickOnMobileMenu(containerClassnames);\r\n  };\r\n\r\n  render() {\r\n    const { containerClassnames, menuClickCount, locale } = this.props;\r\n    const { messages } = this.props.intl;\r\n    return (\r\n      <nav className=\"navbar fixed-top\">\r\n        <div className=\"d-flex align-items-center navbar-left\">\r\n          <NavLink\r\n            to=\"#\" location={{}}\r\n            className=\"menu-button d-none d-md-block\"\r\n            onClick={e =>\r\n              this.menuButtonClick(e, menuClickCount, containerClassnames)\r\n            }\r\n          >\r\n            <MenuIcon />\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"#\" location={{}}\r\n            className=\"menu-button-mobile d-xs-block d-sm-block d-md-none\"\r\n            onClick={e => this.mobileMenuButtonClick(e, containerClassnames)}\r\n          >\r\n            <MobileMenuIcon />\r\n          </NavLink>\r\n\r\n          {/* <div className=\"search\" data-search-path=\"/app/pages/search\">\r\n            <Input\r\n              name=\"searchKeyword\"\r\n              id=\"searchKeyword\"\r\n              placeholder={messages[\"menu.search\"]}\r\n              value={this.state.searchKeyword}\r\n              onChange={e => this.handleSearchInputChange(e)}\r\n              onKeyPress={e => this.handleSearchInputKeyPress(e)}\r\n            />\r\n            <span\r\n              className=\"search-icon\"\r\n              onClick={e => this.handleSearchIconClick(e)}\r\n            >\r\n              <i className=\"simple-icon-magnifier\" />\r\n            </span>\r\n          </div> */}\r\n\r\n          <div className=\"d-inline-block\">\r\n            <UncontrolledDropdown className=\"ml-2\">\r\n              <DropdownToggle\r\n                caret\r\n                color=\"light\"\r\n                size=\"sm\"\r\n                className=\"language-button\"\r\n              >\r\n                <span className=\"name\">{locale.toUpperCase()}</span>\r\n              </DropdownToggle>\r\n              <DropdownMenu className=\"mt-3\" right>\r\n                {localeOptions.map(l => {\r\n                  return (\r\n                    <DropdownItem\r\n                      onClick={() => this.handleChangeLocale(l.id, l.direction)}\r\n                      key={l.id}\r\n                    >\r\n                      {l.name}\r\n                    </DropdownItem>\r\n                  );\r\n                })}\r\n              </DropdownMenu>\r\n            </UncontrolledDropdown>\r\n          </div>\r\n        </div>\r\n        <a className=\"navbar-logo\" href=\"/\">\r\n          <span className=\"logo d-none d-xs-block\" />\r\n          <span className=\"logo-mobile d-block d-xs-none\" />\r\n        </a>\r\n        <div className=\"navbar-right\">\r\n          {isDarkSwitchActive && <TopnavDarkSwitch />}\r\n\r\n          <div className=\"header-icons d-inline-block align-middle\">\r\n\r\n            {/* <TopnavEasyAccess /> */}\r\n            <TopnavNotifications />\r\n            <button\r\n              className=\"header-icon btn btn-empty d-none d-sm-inline-block\"\r\n              type=\"button\"\r\n              id=\"fullScreenButton\"\r\n              onClick={this.toggleFullScreen}\r\n            >\r\n              {this.state.isInFullScreen ? (\r\n                <i className=\"simple-icon-size-actual d-block\" />\r\n              ) : (\r\n                  <i className=\"simple-icon-size-fullscreen d-block\" />\r\n                )}\r\n            </button>\r\n          </div>\r\n          <div className=\"user d-inline-block\">\r\n            <UncontrolledDropdown className=\"dropdown-menu-right\">\r\n              <DropdownToggle className=\"p-0\" color=\"empty\">\r\n                <span className=\"name mr-1\">Sarah Kortney</span>\r\n                <span>\r\n                  <img alt=\"Profile\" src=\"/assets/img/profile-pic-l.jpg\" />\r\n                </span>\r\n              </DropdownToggle>\r\n              <DropdownMenu className=\"mt-3\" right>\r\n                <DropdownItem>Account</DropdownItem>\r\n                <DropdownItem>Features</DropdownItem>\r\n                <DropdownItem>History</DropdownItem>\r\n                <DropdownItem>Support</DropdownItem>\r\n                <DropdownItem divider />\r\n                <DropdownItem onClick={() => this.handleLogout()}>\r\n                  Sign out\r\n                </DropdownItem>\r\n              </DropdownMenu>\r\n            </UncontrolledDropdown>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ menu, settings }) => {\r\n  const { containerClassnames, menuClickCount, selectedMenuHasSubItems } = menu;\r\n  const { locale } = settings;\r\n  return {\r\n    containerClassnames,\r\n    menuClickCount,\r\n    selectedMenuHasSubItems,\r\n    locale\r\n  };\r\n};\r\nexport default injectIntl(\r\n  connect(\r\n    mapStateToProps,\r\n    { setContainerClassnames, clickOnMobileMenu, changeLocale }\r\n  )(TopNav)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}