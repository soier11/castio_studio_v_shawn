{"ast":null,"code":"import _objectSpread from\"/Users/soier/Code/studio_v_shawn/studio_v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import Glide from'@glidejs/glide';import{getDirection}from\"../../helpers/Utils\";import\"@glidejs/glide/dist/css/glide.core.min.css\";let resizeTimeOut=-1;let mountTimeOut=-1;export default class GlideComponent extends React.Component{constructor(props){super(props);this.onResize=this.onResize.bind(this);this.renderDots=this.renderDots.bind(this);this.state={total:React.Children.count(this.props.children)};}componentDidMount(){this.glideCarousel=new Glide(this.carousel,_objectSpread({},this.props.settings,{direction:getDirection().direction}));this.glideCarousel.mount();mountTimeOut=setTimeout(()=>{var event=document.createEvent(\"HTMLEvents\");event.initEvent(\"resize\",false,false);window.dispatchEvent(event);this.glideCarousel.on(\"resize\",this.onResize);},500);}componentWillUnmount(){clearTimeout(resizeTimeOut);clearTimeout(mountTimeOut);this.glideCarousel.destroy();}onResize(){clearTimeout(resizeTimeOut);resizeTimeOut=setTimeout(()=>{this.glideCarousel.update();resizeTimeOut=-1;},500);}renderDots(){let dots=[];for(let i=0;i<this.state.total;i++){dots.push(/*#__PURE__*/React.createElement(\"button\",{className:\"glide__bullet slider-dot\",key:i,\"data-glide-dir\":\"=\"+i}));}return dots;}render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"glide\",ref:node=>this.carousel=node},/*#__PURE__*/React.createElement(\"div\",{\"data-glide-el\":\"track\",className:\"glide__track\"},/*#__PURE__*/React.createElement(\"div\",{className:\"glide__slides\"},this.props.children)),!this.props.settings.hideNav&&/*#__PURE__*/React.createElement(\"div\",{className:\"glide__arrows slider-nav\",\"data-glide-el\":\"controls\"},/*#__PURE__*/React.createElement(\"button\",{className:\"glide__arrow glide__arrow--left left-arrow btn btn-link\",\"data-glide-dir\":\"<\"},/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-arrow-left\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"glide__bullets slider-dot-container\",\"data-glide-el\":\"controls[nav]\"},this.renderDots()),/*#__PURE__*/React.createElement(\"button\",{className:\"glide__arrow glide__arrow--right right-arrow btn btn-link\",\"data-glide-dir\":\">\"},/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-arrow-right\"})))));}}","map":{"version":3,"sources":["/Users/soier/Code/studio_v_shawn/studio_v2/src/components/carousel/GlideComponent.js"],"names":["React","Glide","getDirection","resizeTimeOut","mountTimeOut","GlideComponent","Component","constructor","props","onResize","bind","renderDots","state","total","Children","count","children","componentDidMount","glideCarousel","carousel","settings","direction","mount","setTimeout","event","document","createEvent","initEvent","window","dispatchEvent","on","componentWillUnmount","clearTimeout","destroy","update","dots","i","push","render","node","hideNav"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport Glide from '@glidejs/glide'\r\nimport { getDirection } from \"../../helpers/Utils\";\r\nimport \"@glidejs/glide/dist/css/glide.core.min.css\";\r\n\r\nlet resizeTimeOut = -1;\r\nlet mountTimeOut = -1;\r\n\r\nexport default class GlideComponent extends React.Component {\r\n  static propTypes = {\r\n    settings: PropTypes.shape({\r\n      type: PropTypes.string,\r\n      startAt: PropTypes.number,\r\n      perView: PropTypes.number,\r\n      focusAt: PropTypes.oneOf([PropTypes.number, PropTypes.string]),\r\n      gap: PropTypes.number,\r\n      autoplay: PropTypes.bool,\r\n      hoverpause: PropTypes.bool,\r\n      keyboard: PropTypes.bool,\r\n      bound: PropTypes.bool,\r\n      swipeThreshold: PropTypes.oneOf([PropTypes.number, PropTypes.bool]),\r\n      dragThreshold: PropTypes.oneOf([PropTypes.number, PropTypes.bool]),\r\n      perTouch: PropTypes.oneOf([PropTypes.number, PropTypes.bool]),\r\n      touchRatio: PropTypes.number,\r\n      touchAngle: PropTypes.number,\r\n      animationDuration: PropTypes.number,\r\n      rewind: PropTypes.bool,\r\n      rewindDuration: PropTypes.number,\r\n      animationTimingFunc: PropTypes.string,\r\n      direction: PropTypes.string,\r\n      peek: PropTypes.object,\r\n      breakpoints: PropTypes.object,\r\n      classes: PropTypes.object,\r\n      throttle: PropTypes.number\r\n    }),\r\n    id: PropTypes.string,\r\n    className: PropTypes.string\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onResize = this.onResize.bind(this);\r\n    this.renderDots = this.renderDots.bind(this);\r\n    this.state = {\r\n      total: React.Children.count(this.props.children)\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.glideCarousel = new Glide(this.carousel, {...this.props.settings, direction: getDirection().direction});\r\n    this.glideCarousel.mount();\r\n    mountTimeOut = setTimeout(() => {\r\n      var event = document.createEvent(\"HTMLEvents\");\r\n      event.initEvent(\"resize\", false, false);\r\n      window.dispatchEvent(event);\r\n      this.glideCarousel.on(\"resize\", this.onResize);\r\n    }, 500);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(resizeTimeOut);\r\n    clearTimeout(mountTimeOut);\r\n    this.glideCarousel.destroy();\r\n  }\r\n\r\n  onResize() {\r\n    clearTimeout(resizeTimeOut);\r\n    resizeTimeOut = setTimeout(() => {\r\n      this.glideCarousel.update();\r\n      resizeTimeOut = -1;\r\n    }, 500);\r\n  }\r\n\r\n  renderDots() {\r\n    let dots = [];\r\n    for (let i = 0; i < this.state.total; i++) {\r\n      dots.push(\r\n        <button className=\"glide__bullet slider-dot\" key={i} data-glide-dir={\"=\"+i}></button>\r\n      );\r\n    }\r\n    return dots;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"glide\" ref={node => this.carousel = node}>\r\n          <div data-glide-el=\"track\" className=\"glide__track\">\r\n            <div className=\"glide__slides\">\r\n              {this.props.children}\r\n            </div>\r\n          </div>\r\n          {\r\n            !this.props.settings.hideNav &&  (\r\n              <div className=\"glide__arrows slider-nav\" data-glide-el=\"controls\">\r\n              <button className=\"glide__arrow glide__arrow--left left-arrow btn btn-link\" data-glide-dir=\"<\">\r\n                <i className=\"simple-icon-arrow-left\"></i>\r\n              </button>\r\n  \r\n              <div className=\"glide__bullets slider-dot-container\" data-glide-el=\"controls[nav]\">\r\n                {this.renderDots()}\r\n              </div>\r\n              \r\n              <button className=\"glide__arrow glide__arrow--right right-arrow btn btn-link\" data-glide-dir=\">\">\r\n                <i className=\"simple-icon-arrow-right\"></i>\r\n              </button>\r\n            </div>\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}