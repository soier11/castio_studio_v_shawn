{"ast":null,"code":"import React,{Component,Fragment}from'react';import{connect}from'react-redux';import ReactDOM from'react-dom';import{Nav,NavItem,Collapse}from'reactstrap';import{NavLink}from'react-router-dom';import classnames from'classnames';import PerfectScrollbar from'react-perfect-scrollbar';import{withRouter}from'react-router-dom';import IntlMessages from'../../helpers/IntlMessages';import{setContainerClassnames,addContainerClassname,changeDefaultClassnames,changeSelectedMenuHasSubItems}from'../../redux/actions';import menuItems from'../../constants/menu';class Sidebar extends Component{constructor(props){super(props);this.handleWindowResize=event=>{if(event&&!event.isTrusted){return;}const containerClassnames=this.props.containerClassnames;let nextClasses=this.getMenuClassesForResize(containerClassnames);this.props.setContainerClassnames(0,nextClasses.join(' '),this.props.selectedMenuHasSubItems);};this.handleDocumentClick=e=>{const container=this.getContainer();let isMenuClick=false;if(e.target&&e.target.classList&&(e.target.classList.contains('menu-button')||e.target.classList.contains('menu-button-mobile'))){isMenuClick=true;}else if(e.target.parentElement&&e.target.parentElement.classList&&(e.target.parentElement.classList.contains('menu-button')||e.target.parentElement.classList.contains('menu-button-mobile'))){isMenuClick=true;}else if(e.target.parentElement&&e.target.parentElement.parentElement&&e.target.parentElement.parentElement.classList&&(e.target.parentElement.parentElement.classList.contains('menu-button')||e.target.parentElement.parentElement.classList.contains('menu-button-mobile'))){isMenuClick=true;}if(container.contains(e.target)||container===e.target||isMenuClick){return;}this.setState({viewingParentMenu:''});this.toggle();};this.getMenuClassesForResize=classes=>{const _this$props=this.props,menuHiddenBreakpoint=_this$props.menuHiddenBreakpoint,subHiddenBreakpoint=_this$props.subHiddenBreakpoint;let nextClasses=classes.split(' ').filter(x=>x!=='');const windowWidth=window.innerWidth;if(windowWidth<menuHiddenBreakpoint){nextClasses.push('menu-mobile');}else if(windowWidth<subHiddenBreakpoint){nextClasses=nextClasses.filter(x=>x!=='menu-mobile');if(nextClasses.includes('menu-default')&&!nextClasses.includes('menu-sub-hidden')){nextClasses.push('menu-sub-hidden');}}else{nextClasses=nextClasses.filter(x=>x!=='menu-mobile');if(nextClasses.includes('menu-default')&&nextClasses.includes('menu-sub-hidden')){nextClasses=nextClasses.filter(x=>x!=='menu-sub-hidden');}}return nextClasses;};this.getContainer=()=>{return ReactDOM.findDOMNode(this);};this.toggle=()=>{const hasSubItems=this.getIsHasSubItem();this.props.changeSelectedMenuHasSubItems(hasSubItems);const _this$props2=this.props,containerClassnames=_this$props2.containerClassnames,menuClickCount=_this$props2.menuClickCount;const currentClasses=containerClassnames?containerClassnames.split(' ').filter(x=>x!==''):'';let clickIndex=-1;if(!hasSubItems){if(currentClasses.includes('menu-default')&&(menuClickCount%4===0||menuClickCount%4===3)){clickIndex=1;}else if(currentClasses.includes('menu-sub-hidden')&&(menuClickCount===2||menuClickCount===3)){clickIndex=0;}else if(currentClasses.includes('menu-hidden')||currentClasses.includes('menu-mobile')){clickIndex=0;}}else{if(currentClasses.includes('menu-sub-hidden')&&menuClickCount===3){clickIndex=2;}else if(currentClasses.includes('menu-hidden')||currentClasses.includes('menu-mobile')){clickIndex=0;}}if(clickIndex>=0){this.props.setContainerClassnames(clickIndex,containerClassnames,hasSubItems);}};this.handleProps=()=>{this.addEvents();};this.addEvents=()=>{['click','touchstart','touchend'].forEach(event=>document.addEventListener(event,this.handleDocumentClick,true));};this.removeEvents=()=>{['click','touchstart','touchend'].forEach(event=>document.removeEventListener(event,this.handleDocumentClick,true));};this.setSelectedLiActive=callback=>{const oldli=document.querySelector('.sub-menu  li.active');if(oldli!=null){oldli.classList.remove('active');}const oldliSub=document.querySelector('.third-level-menu  li.active');if(oldliSub!=null){oldliSub.classList.remove('active');}/* set selected parent menu */const selectedSublink=document.querySelector('.third-level-menu  a.active');if(selectedSublink!=null){selectedSublink.parentElement.classList.add('active');}const selectedlink=document.querySelector('.sub-menu  a.active');if(selectedlink!=null){selectedlink.parentElement.classList.add('active');this.setState({selectedParentMenu:selectedlink.parentElement.parentElement.getAttribute('data-parent')},callback);}else{var selectedParentNoSubItem=document.querySelector('.main-menu  li a.active');if(selectedParentNoSubItem!=null){this.setState({selectedParentMenu:selectedParentNoSubItem.getAttribute('data-flag')},callback);}else if(this.state.selectedParentMenu===''){this.setState({selectedParentMenu:menuItems[0].id},callback);}}};this.setHasSubItemStatus=()=>{const hasSubmenu=this.getIsHasSubItem();this.props.changeSelectedMenuHasSubItems(hasSubmenu);this.toggle();};this.getIsHasSubItem=()=>{const selectedParentMenu=this.state.selectedParentMenu;const menuItem=menuItems.find(x=>x.id===selectedParentMenu);if(menuItem)return menuItem&&menuItem.subs&&menuItem.subs.length>0?true:false;else return false;};this.openSubMenu=(e,menuItem)=>{const selectedParent=menuItem.id;const hasSubMenu=menuItem.subs&&menuItem.subs.length>0;this.props.changeSelectedMenuHasSubItems(hasSubMenu);if(!hasSubMenu){this.setState({viewingParentMenu:selectedParent,selectedParentMenu:selectedParent});this.toggle();}else{e.preventDefault();const _this$props3=this.props,containerClassnames=_this$props3.containerClassnames,menuClickCount=_this$props3.menuClickCount;const currentClasses=containerClassnames?containerClassnames.split(' ').filter(x=>x!==''):'';if(!currentClasses.includes('menu-mobile')){if(currentClasses.includes('menu-sub-hidden')&&(menuClickCount===2||menuClickCount===0)){this.props.setContainerClassnames(3,containerClassnames,hasSubMenu);}else if(currentClasses.includes('menu-hidden')&&(menuClickCount===1||menuClickCount===3)){this.props.setContainerClassnames(2,containerClassnames,hasSubMenu);}else if(currentClasses.includes('menu-default')&&!currentClasses.includes('menu-sub-hidden')&&(menuClickCount===1||menuClickCount===3)){this.props.setContainerClassnames(0,containerClassnames,hasSubMenu);}}else{this.props.addContainerClassname('sub-show-temporary',containerClassnames);}this.setState({viewingParentMenu:selectedParent});}};this.toggleMenuCollapse=(e,menuKey)=>{e.preventDefault();let collapsedMenus=this.state.collapsedMenus;if(collapsedMenus.indexOf(menuKey)>-1){this.setState({collapsedMenus:collapsedMenus.filter(x=>x!==menuKey)});}else{collapsedMenus.push(menuKey);this.setState({collapsedMenus});}return false;};this.state={selectedParentMenu:'',viewingParentMenu:'',collapsedMenus:[]};}componentDidUpdate(prevProps){if(this.props.location.pathname!==prevProps.location.pathname){this.setSelectedLiActive(this.setHasSubItemStatus);window.scrollTo(0,0);}this.handleProps();}componentDidMount(){window.addEventListener('resize',this.handleWindowResize);this.handleWindowResize();this.handleProps();this.setSelectedLiActive(this.setHasSubItemStatus);}componentWillUnmount(){this.removeEvents();window.removeEventListener('resize',this.handleWindowResize);}render(){const _this$state=this.state,selectedParentMenu=_this$state.selectedParentMenu,viewingParentMenu=_this$state.viewingParentMenu,collapsedMenus=_this$state.collapsedMenus;return/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"main-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"scroll\"},/*#__PURE__*/React.createElement(PerfectScrollbar,{options:{suppressScrollX:true,wheelPropagation:false}},/*#__PURE__*/React.createElement(Nav,{vertical:true,className:\"list-unstyled\"},menuItems&&menuItems.map(item=>{return/*#__PURE__*/React.createElement(NavItem,{key:item.id,className:classnames({active:selectedParentMenu===item.id&&viewingParentMenu===''||viewingParentMenu===item.id})},item.newWindow?/*#__PURE__*/React.createElement(\"a\",{href:item.to,rel:\"noopener noreferrer\",target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:item.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:item.label})):/*#__PURE__*/React.createElement(NavLink,{to:item.to,onClick:e=>this.openSubMenu(e,item),\"data-flag\":item.id},/*#__PURE__*/React.createElement(\"i\",{className:item.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:item.label})));}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"scroll\"},/*#__PURE__*/React.createElement(PerfectScrollbar,{options:{suppressScrollX:true,wheelPropagation:false}},menuItems&&menuItems.map(item=>{return/*#__PURE__*/React.createElement(Nav,{key:item.id,className:classnames({'d-block':this.state.selectedParentMenu===item.id&&this.state.viewingParentMenu===''||this.state.viewingParentMenu===item.id}),\"data-parent\":item.id},item.subs&&item.subs.map((sub,index)=>{return/*#__PURE__*/React.createElement(NavItem,{key:\"\".concat(item.id,\"_\").concat(index),className:\"\".concat(sub.subs&&sub.subs.length>0?'has-sub-item':'')},sub.newWindow?/*#__PURE__*/React.createElement(\"a\",{href:sub.to,rel:\"noopener noreferrer\",target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:sub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:sub.label})):sub.subs&&sub.subs.length>0?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(NavLink,{className:\"rotate-arrow-icon opacity-50 \".concat(collapsedMenus.indexOf(\"\".concat(item.id,\"_\").concat(index))===-1?'':'collapsed'),to:sub.to,id:\"\".concat(item.id,\"_\").concat(index),onClick:e=>this.toggleMenuCollapse(e,\"\".concat(item.id,\"_\").concat(index))},/*#__PURE__*/React.createElement(\"i\",{className:\"simple-icon-arrow-down\"}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:sub.label})),/*#__PURE__*/React.createElement(Collapse,{isOpen:collapsedMenus.indexOf(\"\".concat(item.id,\"_\").concat(index))===-1},/*#__PURE__*/React.createElement(Nav,{className:\"third-level-menu\"},sub.subs.map((thirdSub,thirdIndex)=>{return/*#__PURE__*/React.createElement(NavItem,{key:\"\".concat(item.id,\"_\").concat(index,\"_\").concat(thirdIndex)},thirdSub.newWindow?/*#__PURE__*/React.createElement(\"a\",{href:thirdSub.to,rel:\"noopener noreferrer\",target:\"_blank\"},/*#__PURE__*/React.createElement(\"i\",{className:thirdSub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:thirdSub.label})):/*#__PURE__*/React.createElement(NavLink,{to:thirdSub.to},/*#__PURE__*/React.createElement(\"i\",{className:thirdSub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:thirdSub.label})));})))):/*#__PURE__*/React.createElement(NavLink,{to:sub.to},/*#__PURE__*/React.createElement(\"i\",{className:sub.icon}),' ',/*#__PURE__*/React.createElement(IntlMessages,{id:sub.label})));}));})))));}}const mapStateToProps=({menu})=>{const containerClassnames=menu.containerClassnames,subHiddenBreakpoint=menu.subHiddenBreakpoint,menuHiddenBreakpoint=menu.menuHiddenBreakpoint,menuClickCount=menu.menuClickCount,selectedMenuHasSubItems=menu.selectedMenuHasSubItems;return{containerClassnames,subHiddenBreakpoint,menuHiddenBreakpoint,menuClickCount,selectedMenuHasSubItems};};export default withRouter(connect(mapStateToProps,{setContainerClassnames,addContainerClassname,changeDefaultClassnames,changeSelectedMenuHasSubItems})(Sidebar));","map":{"version":3,"sources":["/Users/soier/Code/studio_v_shawn/studio_v2/src/containers/navs/Sidebar.js"],"names":["React","Component","Fragment","connect","ReactDOM","Nav","NavItem","Collapse","NavLink","classnames","PerfectScrollbar","withRouter","IntlMessages","setContainerClassnames","addContainerClassname","changeDefaultClassnames","changeSelectedMenuHasSubItems","menuItems","Sidebar","constructor","props","handleWindowResize","event","isTrusted","containerClassnames","nextClasses","getMenuClassesForResize","join","selectedMenuHasSubItems","handleDocumentClick","e","container","getContainer","isMenuClick","target","classList","contains","parentElement","setState","viewingParentMenu","toggle","classes","menuHiddenBreakpoint","subHiddenBreakpoint","split","filter","x","windowWidth","window","innerWidth","push","includes","findDOMNode","hasSubItems","getIsHasSubItem","menuClickCount","currentClasses","clickIndex","handleProps","addEvents","forEach","document","addEventListener","removeEvents","removeEventListener","setSelectedLiActive","callback","oldli","querySelector","remove","oldliSub","selectedSublink","add","selectedlink","selectedParentMenu","getAttribute","selectedParentNoSubItem","state","id","setHasSubItemStatus","hasSubmenu","menuItem","find","subs","length","openSubMenu","selectedParent","hasSubMenu","preventDefault","toggleMenuCollapse","menuKey","collapsedMenus","indexOf","componentDidUpdate","prevProps","location","pathname","scrollTo","componentDidMount","componentWillUnmount","render","suppressScrollX","wheelPropagation","map","item","active","newWindow","to","icon","label","sub","index","thirdSub","thirdIndex","mapStateToProps","menu"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport { Nav, NavItem, Collapse } from 'reactstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classnames from 'classnames';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport IntlMessages from '../../helpers/IntlMessages';\r\n\r\nimport {\r\n  setContainerClassnames,\r\n  addContainerClassname,\r\n  changeDefaultClassnames,\r\n  changeSelectedMenuHasSubItems\r\n} from '../../redux/actions';\r\n\r\nimport menuItems from '../../constants/menu';\r\n\r\nclass Sidebar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedParentMenu: '',\r\n      viewingParentMenu: '',\r\n      collapsedMenus: []\r\n    };\r\n  }\r\n\r\n  handleWindowResize = event => {\r\n    if (event && !event.isTrusted) {\r\n      return;\r\n    }\r\n    const { containerClassnames } = this.props;\r\n    let nextClasses = this.getMenuClassesForResize(containerClassnames);\r\n    this.props.setContainerClassnames(\r\n      0,\r\n      nextClasses.join(' '),\r\n      this.props.selectedMenuHasSubItems\r\n    );\r\n  };\r\n\r\n  handleDocumentClick = e => {\r\n    const container = this.getContainer();\r\n    let isMenuClick = false;\r\n    if (\r\n      e.target &&\r\n      e.target.classList &&\r\n      (e.target.classList.contains('menu-button') ||\r\n        e.target.classList.contains('menu-button-mobile'))\r\n    ) {\r\n      isMenuClick = true;\r\n    } else if (\r\n      e.target.parentElement &&\r\n      e.target.parentElement.classList &&\r\n      (e.target.parentElement.classList.contains('menu-button') ||\r\n        e.target.parentElement.classList.contains('menu-button-mobile'))\r\n    ) {\r\n      isMenuClick = true;\r\n    } else if (\r\n      e.target.parentElement &&\r\n      e.target.parentElement.parentElement &&\r\n      e.target.parentElement.parentElement.classList &&\r\n      (e.target.parentElement.parentElement.classList.contains('menu-button') ||\r\n        e.target.parentElement.parentElement.classList.contains(\r\n          'menu-button-mobile'\r\n        ))\r\n    ) {\r\n      isMenuClick = true;\r\n    }\r\n    if (container.contains(e.target) || container === e.target || isMenuClick) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      viewingParentMenu: ''\r\n    });\r\n    this.toggle();\r\n  };\r\n\r\n  getMenuClassesForResize = classes => {\r\n    const { menuHiddenBreakpoint, subHiddenBreakpoint } = this.props;\r\n    let nextClasses = classes.split(' ').filter(x => x !== '');\r\n    const windowWidth = window.innerWidth;\r\n    if (windowWidth < menuHiddenBreakpoint) {\r\n      nextClasses.push('menu-mobile');\r\n    } else if (windowWidth < subHiddenBreakpoint) {\r\n      nextClasses = nextClasses.filter(x => x !== 'menu-mobile');\r\n      if (\r\n        nextClasses.includes('menu-default') &&\r\n        !nextClasses.includes('menu-sub-hidden')\r\n      ) {\r\n        nextClasses.push('menu-sub-hidden');\r\n      }\r\n    } else {\r\n      nextClasses = nextClasses.filter(x => x !== 'menu-mobile');\r\n      if (\r\n        nextClasses.includes('menu-default') &&\r\n        nextClasses.includes('menu-sub-hidden')\r\n      ) {\r\n        nextClasses = nextClasses.filter(x => x !== 'menu-sub-hidden');\r\n      }\r\n    }\r\n    return nextClasses;\r\n  };\r\n\r\n  getContainer = () => {\r\n    return ReactDOM.findDOMNode(this);\r\n  };\r\n\r\n  toggle = () => {\r\n    const hasSubItems = this.getIsHasSubItem();\r\n    this.props.changeSelectedMenuHasSubItems(hasSubItems);\r\n    const { containerClassnames, menuClickCount } = this.props;\r\n    const currentClasses = containerClassnames\r\n      ? containerClassnames.split(' ').filter(x => x !== '')\r\n      : '';\r\n    let clickIndex = -1;\r\n\r\n    if (!hasSubItems) {\r\n      if (\r\n        currentClasses.includes('menu-default') &&\r\n        (menuClickCount % 4 === 0 || menuClickCount % 4 === 3)\r\n      ) {\r\n        clickIndex = 1;\r\n      } else if (\r\n        currentClasses.includes('menu-sub-hidden') &&\r\n        (menuClickCount === 2 || menuClickCount === 3)\r\n      ) {\r\n        clickIndex = 0;\r\n      } else if (\r\n        currentClasses.includes('menu-hidden') ||\r\n        currentClasses.includes('menu-mobile')\r\n      ) {\r\n        clickIndex = 0;\r\n      }\r\n    } else {\r\n      if (currentClasses.includes('menu-sub-hidden') && menuClickCount === 3) {\r\n        clickIndex = 2;\r\n      } else if (\r\n        currentClasses.includes('menu-hidden') ||\r\n        currentClasses.includes('menu-mobile')\r\n      ) {\r\n        clickIndex = 0;\r\n      }\r\n    }\r\n    if (clickIndex >= 0) {\r\n      this.props.setContainerClassnames(\r\n        clickIndex,\r\n        containerClassnames,\r\n        hasSubItems\r\n      );\r\n    }\r\n  };\r\n\r\n  handleProps = () => {\r\n    this.addEvents();\r\n  };\r\n\r\n  addEvents = () => {\r\n    ['click', 'touchstart', 'touchend'].forEach(event =>\r\n      document.addEventListener(event, this.handleDocumentClick, true)\r\n    );\r\n  };\r\n\r\n  removeEvents = () => {\r\n    ['click', 'touchstart', 'touchend'].forEach(event =>\r\n      document.removeEventListener(event, this.handleDocumentClick, true)\r\n    );\r\n  };\r\n\r\n  setSelectedLiActive = callback => {\r\n    const oldli = document.querySelector('.sub-menu  li.active');\r\n    if (oldli != null) {\r\n      oldli.classList.remove('active');\r\n    }\r\n\r\n    const oldliSub = document.querySelector('.third-level-menu  li.active');\r\n    if (oldliSub != null) {\r\n      oldliSub.classList.remove('active');\r\n    }\r\n\r\n    /* set selected parent menu */\r\n    const selectedSublink = document.querySelector('.third-level-menu  a.active');\r\n    if (selectedSublink != null) {\r\n      selectedSublink.parentElement.classList.add('active');\r\n    }\r\n\r\n    const selectedlink = document.querySelector('.sub-menu  a.active');\r\n    if (selectedlink != null) {\r\n      selectedlink.parentElement.classList.add('active');\r\n      this.setState(\r\n        {\r\n          selectedParentMenu: selectedlink.parentElement.parentElement.getAttribute(\r\n            'data-parent'\r\n          )\r\n        },\r\n        callback\r\n      );\r\n    } else {\r\n      var selectedParentNoSubItem = document.querySelector(\r\n        '.main-menu  li a.active'\r\n      );\r\n      if (selectedParentNoSubItem != null) {\r\n        this.setState(\r\n          {\r\n            selectedParentMenu: selectedParentNoSubItem.getAttribute(\r\n              'data-flag'\r\n            )\r\n          },\r\n          callback\r\n        );\r\n      } else if (this.state.selectedParentMenu === '') {\r\n        this.setState(\r\n          {\r\n            selectedParentMenu: menuItems[0].id\r\n          },\r\n          callback\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  setHasSubItemStatus = () => {\r\n    const hasSubmenu = this.getIsHasSubItem();\r\n    this.props.changeSelectedMenuHasSubItems(hasSubmenu);\r\n    this.toggle();\r\n  };\r\n\r\n  getIsHasSubItem = () => {\r\n    const { selectedParentMenu } = this.state;\r\n    const menuItem = menuItems.find(x => x.id === selectedParentMenu);\r\n    if (menuItem)\r\n      return menuItem && menuItem.subs && menuItem.subs.length > 0\r\n        ? true\r\n        : false;\r\n    else return false;\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      this.setSelectedLiActive(this.setHasSubItemStatus);\r\n\r\n      window.scrollTo(0, 0);\r\n    }\r\n    this.handleProps();\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.handleWindowResize);\r\n    this.handleWindowResize();\r\n    this.handleProps();\r\n    this.setSelectedLiActive(this.setHasSubItemStatus);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvents();\r\n    window.removeEventListener('resize', this.handleWindowResize);\r\n  }\r\n\r\n  openSubMenu = (e, menuItem) => {\r\n    const selectedParent = menuItem.id;\r\n    const hasSubMenu = menuItem.subs && menuItem.subs.length > 0;\r\n    this.props.changeSelectedMenuHasSubItems(hasSubMenu);\r\n    if (!hasSubMenu) {\r\n      this.setState({\r\n        viewingParentMenu: selectedParent,\r\n        selectedParentMenu: selectedParent\r\n      });\r\n      this.toggle();\r\n    } else {\r\n      e.preventDefault();\r\n\r\n      const { containerClassnames, menuClickCount } = this.props;\r\n      const currentClasses = containerClassnames\r\n        ? containerClassnames.split(' ').filter(x => x !== '')\r\n        : '';\r\n\r\n      if (!currentClasses.includes('menu-mobile')) {\r\n        if (\r\n          currentClasses.includes('menu-sub-hidden') &&\r\n          (menuClickCount === 2 || menuClickCount === 0)\r\n        ) {\r\n          this.props.setContainerClassnames(3, containerClassnames, hasSubMenu);\r\n        } else if (\r\n          currentClasses.includes('menu-hidden') &&\r\n          (menuClickCount === 1 || menuClickCount === 3)\r\n        ) {\r\n          this.props.setContainerClassnames(2, containerClassnames, hasSubMenu);\r\n        } else if (\r\n          currentClasses.includes('menu-default') &&\r\n          !currentClasses.includes('menu-sub-hidden') &&\r\n          (menuClickCount === 1 || menuClickCount === 3)\r\n        ) {\r\n          this.props.setContainerClassnames(0, containerClassnames, hasSubMenu);\r\n        }\r\n      } else {\r\n        this.props.addContainerClassname(\r\n          'sub-show-temporary',\r\n          containerClassnames\r\n        );\r\n      }\r\n      this.setState({\r\n        viewingParentMenu: selectedParent\r\n      });\r\n    }\r\n  };\r\n\r\n  toggleMenuCollapse = (e, menuKey) => {\r\n    e.preventDefault();\r\n\r\n    let collapsedMenus = this.state.collapsedMenus;\r\n    if (collapsedMenus.indexOf(menuKey) > -1) {\r\n      this.setState({\r\n        collapsedMenus: collapsedMenus.filter(x => x !== menuKey)\r\n      });\r\n    } else {\r\n      collapsedMenus.push(menuKey);\r\n      this.setState({\r\n        collapsedMenus\r\n      });\r\n    }\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      selectedParentMenu,\r\n      viewingParentMenu,\r\n      collapsedMenus\r\n    } = this.state;\r\n    return (\r\n      <div className=\"sidebar\">\r\n        <div className=\"main-menu\">\r\n          <div className=\"scroll\">\r\n            <PerfectScrollbar\r\n              options={{ suppressScrollX: true, wheelPropagation: false }}\r\n            >\r\n              <Nav vertical className=\"list-unstyled\">\r\n                {menuItems &&\r\n                  menuItems.map(item => {\r\n                    return (\r\n                      <NavItem\r\n                        key={item.id}\r\n                        className={classnames({\r\n                          active:\r\n                            (selectedParentMenu === item.id &&\r\n                              viewingParentMenu === '') ||\r\n                            viewingParentMenu === item.id\r\n                        })}\r\n                      >\r\n                        {item.newWindow ? (\r\n                          <a\r\n                            href={item.to}\r\n                            rel=\"noopener noreferrer\"\r\n                            target=\"_blank\"\r\n                          >\r\n                            <i className={item.icon} />{' '}\r\n                            <IntlMessages id={item.label} />\r\n                          </a>\r\n                        ) : (\r\n                          <NavLink\r\n                            to={item.to}\r\n                            onClick={e => this.openSubMenu(e, item)}\r\n                            data-flag={item.id}\r\n                          >\r\n                            <i className={item.icon} />{' '}\r\n                            <IntlMessages id={item.label} />\r\n                          </NavLink>\r\n                        )}\r\n                      </NavItem>\r\n                    );\r\n                  })}\r\n              </Nav>\r\n            </PerfectScrollbar>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"sub-menu\">\r\n          <div className=\"scroll\">\r\n            <PerfectScrollbar\r\n              options={{ suppressScrollX: true, wheelPropagation: false }}\r\n            >\r\n              {menuItems &&\r\n                menuItems.map(item => {\r\n                  return (\r\n                    <Nav\r\n                      key={item.id}\r\n                      className={classnames({\r\n                        'd-block':\r\n                          (this.state.selectedParentMenu === item.id &&\r\n                            this.state.viewingParentMenu === '') ||\r\n                          this.state.viewingParentMenu === item.id\r\n                      })}\r\n                      data-parent={item.id}\r\n                    >\r\n                      {item.subs &&\r\n                        item.subs.map((sub, index) => {\r\n                          return (\r\n                            <NavItem\r\n                              key={`${item.id}_${index}`}\r\n                              className={`${\r\n                                sub.subs && sub.subs.length > 0\r\n                                  ? 'has-sub-item'\r\n                                  : ''\r\n                              }`}\r\n                            >\r\n                              {sub.newWindow ? (\r\n                                <a\r\n                                  href={sub.to}\r\n                                  rel=\"noopener noreferrer\"\r\n                                  target=\"_blank\"\r\n                                >\r\n                                  <i className={sub.icon} />{' '}\r\n                                  <IntlMessages id={sub.label} />\r\n                                </a>\r\n                              ) : sub.subs && sub.subs.length > 0 ? (\r\n                                <Fragment>\r\n                                  <NavLink\r\n                                    className={`rotate-arrow-icon opacity-50 ${\r\n                                      collapsedMenus.indexOf(\r\n                                        `${item.id}_${index}`\r\n                                      ) === -1\r\n                                        ? ''\r\n                                        : 'collapsed'\r\n                                    }`}\r\n                                    to={sub.to}\r\n                                    id={`${item.id}_${index}`}\r\n                                    onClick={e =>\r\n                                      this.toggleMenuCollapse(\r\n                                        e,\r\n                                        `${item.id}_${index}`\r\n                                      )\r\n                                    }\r\n                                  >\r\n                                    <i className=\"simple-icon-arrow-down\" />{' '}\r\n                                    <IntlMessages id={sub.label} />\r\n                                  </NavLink>\r\n\r\n                                  <Collapse\r\n                                    isOpen={\r\n                                      collapsedMenus.indexOf(\r\n                                        `${item.id}_${index}`\r\n                                      ) === -1\r\n                                    }\r\n                                  >\r\n                                    <Nav className=\"third-level-menu\">\r\n                                      {sub.subs.map((thirdSub, thirdIndex) => {\r\n                                        return (\r\n                                          <NavItem\r\n                                            key={`${\r\n                                              item.id\r\n                                            }_${index}_${thirdIndex}`}\r\n                                          >\r\n                                            {thirdSub.newWindow ? (\r\n                                              <a\r\n                                                href={thirdSub.to}\r\n                                                rel=\"noopener noreferrer\"\r\n                                                target=\"_blank\"\r\n                                              >\r\n                                                <i className={thirdSub.icon} />{' '}\r\n                                                <IntlMessages\r\n                                                  id={thirdSub.label}\r\n                                                />\r\n                                              </a>\r\n                                            ) : (\r\n                                              <NavLink to={thirdSub.to}>\r\n                                                <i className={thirdSub.icon} />{' '}\r\n                                                <IntlMessages\r\n                                                  id={thirdSub.label}\r\n                                                />\r\n                                              </NavLink>\r\n                                            )}\r\n                                          </NavItem>\r\n                                        );\r\n                                      })}\r\n                                    </Nav>\r\n                                  </Collapse>\r\n                                </Fragment>\r\n                              ) : (\r\n                                <NavLink to={sub.to}>\r\n                                  <i className={sub.icon} />{' '}\r\n                                  <IntlMessages id={sub.label} />\r\n                                </NavLink>\r\n                              )}\r\n                            </NavItem>\r\n                          );\r\n                        })}\r\n                    </Nav>\r\n                  );\r\n                })}\r\n            </PerfectScrollbar>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ menu }) => {\r\n  const {\r\n    containerClassnames,\r\n    subHiddenBreakpoint,\r\n    menuHiddenBreakpoint,\r\n    menuClickCount,\r\n    selectedMenuHasSubItems\r\n  } = menu;\r\n  return {\r\n    containerClassnames,\r\n    subHiddenBreakpoint,\r\n    menuHiddenBreakpoint,\r\n    menuClickCount,\r\n    selectedMenuHasSubItems\r\n  };\r\n};\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    {\r\n      setContainerClassnames,\r\n      addContainerClassname,\r\n      changeDefaultClassnames,\r\n      changeSelectedMenuHasSubItems\r\n    }\r\n  )(Sidebar)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}