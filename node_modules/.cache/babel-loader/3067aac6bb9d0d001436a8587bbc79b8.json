{"ast":null,"code":"var _jsxFileName = \"/Users/soier/Code/santa/studio_v2/src/views/studio/storege.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Row, Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport axios from \"axios\";\nimport { servicePath } from \"../../constants/defaultValues\";\nimport IntlMessages from \"../../helpers/IntlMessages\";\nimport VideoPlayer from \"../../components/common/VideoPlayer\";\nimport DataListView from \"../../containers/pages/DataListView\";\nimport Pagination from \"../../containers/pages/Pagination\";\nimport ContextMenuContainer from \"../../containers/pages/ContextMenuContainer\";\nimport ListPageHeading from \"../../containers/pages/ListPageHeading\";\nimport ImageListView from \"../../containers/pages/ImageListView\";\nimport ThumbListView from \"../../containers/pages/ThumbListView\";\nimport AddNewModal from \"../../containers/pages/AddNewModal\";\n\nfunction collect(props) {\n  return {\n    data: props.data\n  };\n}\n\nconst apiUrl = servicePath + \"/cakes/paging\";\n\nclass StoregePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleModal = () => {\n      this.setState({\n        modalOpen: !this.state.modalOpen\n      });\n    };\n\n    this.changeOrderBy = column => {\n      this.setState({\n        selectedOrderOption: this.state.orderOptions.find(x => x.column === column)\n      }, () => this.dataListRender());\n    };\n\n    this.changePageSize = size => {\n      this.setState({\n        selectedPageSize: size,\n        currentPage: 1\n      }, () => this.dataListRender());\n    };\n\n    this.changeDisplayMode = mode => {\n      this.setState({\n        displayMode: mode\n      });\n      return false;\n    };\n\n    this.onChangePage = page => {\n      this.setState({\n        currentPage: page\n      }, () => this.dataListRender());\n    };\n\n    this.onSearchKey = e => {\n      if (e.key === \"Enter\") {\n        this.setState({\n          search: e.target.value.toLowerCase()\n        }, () => this.dataListRender());\n      }\n    };\n\n    this.onCheckItem = (event, id) => {\n      if (event.target.tagName === \"A\" || event.target.parentElement && event.target.parentElement.tagName === \"A\") {\n        return true;\n      }\n\n      if (this.state.lastChecked === null) {\n        this.setState({\n          lastChecked: id\n        });\n      }\n\n      let selectedItems = this.state.selectedItems;\n\n      if (selectedItems.includes(id)) {\n        selectedItems = selectedItems.filter(x => x !== id);\n      } else {\n        selectedItems.push(id);\n      }\n\n      this.setState({\n        selectedItems\n      });\n\n      if (event.shiftKey) {\n        var items = this.state.items;\n        var start = this.getIndex(id, items, \"id\");\n        var end = this.getIndex(this.state.lastChecked, items, \"id\");\n        items = items.slice(Math.min(start, end), Math.max(start, end) + 1);\n        selectedItems.push(...items.map(item => {\n          return item.id;\n        }));\n        selectedItems = Array.from(new Set(selectedItems));\n        this.setState({\n          selectedItems\n        });\n      }\n\n      document.activeElement.blur();\n    };\n\n    this.handleChangeSelectAll = isToggle => {\n      if (this.state.selectedItems.length >= this.state.items.length) {\n        if (isToggle) {\n          this.setState({\n            selectedItems: []\n          });\n        }\n      } else {\n        this.setState({\n          selectedItems: this.state.items.map(x => x.id)\n        });\n      }\n\n      document.activeElement.blur();\n      return false;\n    };\n\n    this.onContextMenuClick = (e, data, target) => {\n      console.log(\"onContextMenuClick - selected items\", this.state.selectedItems);\n      console.log(\"onContextMenuClick - action : \", data.action);\n    };\n\n    this.onContextMenu = (e, data) => {\n      const clickedProductId = data.data;\n\n      if (!this.state.selectedItems.includes(clickedProductId)) {\n        this.setState({\n          selectedItems: [clickedProductId]\n        });\n      }\n\n      return true;\n    };\n\n    this.toggle = (select_id = undefined) => {\n      let select_item = Boolean(select_id) ? {\n        type: \"video\",\n        // type: \"image\",\n        name: 'Mayra Sibley',\n        date: '10 minutes ago',\n        profilePic: '/assets/img/profile-pic-l.jpg',\n        detail: 'Iâ€™m a web developer. I spend my whole day, practically every day, experimenting with HTML, CSS, and JavaScript; dabbling with Python and Ruby; and inhaling a wide variety of potentially useless information through a few hundred RSS feeds. I build websites that delight and inform. I do it well.',\n        image: \"/assets/img/detail-5.jpg\",\n        video: \"http://distribution.bbb3d.renderfarming.net/video/mp4/bbb_sunflower_1080p_30fps_normal.mp4\"\n      } : select_id;\n      this.setState(prevState => ({\n        modal: !prevState.modal,\n        select_item\n      }));\n    };\n\n    this.mouseTrap = require('mousetrap');\n    this.state = {\n      displayMode: \"imagelist\",\n      selectedPageSize: 8,\n      orderOptions: [{\n        column: \"title\",\n        label: \"Product Name\"\n      }, {\n        column: \"category\",\n        label: \"Category\"\n      }, {\n        column: \"status\",\n        label: \"Status\"\n      }],\n      pageSizes: [8, 12, 24],\n      categories: [{\n        label: \"Cakes\",\n        value: \"Cakes\",\n        key: 0\n      }, {\n        label: \"Cupcakes\",\n        value: \"Cupcakes\",\n        key: 1\n      }, {\n        label: \"Desserts\",\n        value: \"Desserts\",\n        key: 2\n      }],\n      selectedOrderOption: {\n        column: \"title\",\n        label: \"Product Name\"\n      },\n      dropdownSplitOpen: false,\n      modalOpen: false,\n      currentPage: 1,\n      totalItemCount: 0,\n      totalPage: 1,\n      search: \"\",\n      selectedItems: [],\n      lastChecked: null,\n      isLoading: false,\n      modal: false,\n      select_item: undefined\n    };\n  }\n\n  componentDidMount() {\n    this.dataListRender();\n    this.mouseTrap.bind([\"ctrl+a\", \"command+a\"], () => this.handleChangeSelectAll(false));\n    this.mouseTrap.bind([\"ctrl+d\", \"command+d\"], () => {\n      this.setState({\n        selectedItems: []\n      });\n      return false;\n    });\n  }\n\n  componentWillUnmount() {\n    this.mouseTrap.unbind(\"ctrl+a\");\n    this.mouseTrap.unbind(\"command+a\");\n    this.mouseTrap.unbind(\"ctrl+d\");\n    this.mouseTrap.unbind(\"command+d\");\n  }\n\n  getIndex(value, arr, prop) {\n    for (var i = 0; i < arr.length; i++) {\n      if (arr[i][prop] === value) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  dataListRender() {\n    const _this$state = this.state,\n          selectedPageSize = _this$state.selectedPageSize,\n          currentPage = _this$state.currentPage,\n          selectedOrderOption = _this$state.selectedOrderOption,\n          search = _this$state.search;\n    axios.get(\"\".concat(apiUrl, \"?pageSize=\").concat(selectedPageSize, \"&currentPage=\").concat(currentPage, \"&orderBy=\").concat(selectedOrderOption.column, \"&search=\").concat(search)).then(res => {\n      return res.data;\n    }).then(data => {\n      this.setState({\n        totalPage: data.totalPage,\n        items: data.data,\n        selectedItems: [],\n        totalItemCount: data.totalItem,\n        isLoading: true\n      });\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          currentPage = _this$state2.currentPage,\n          items = _this$state2.items,\n          displayMode = _this$state2.displayMode,\n          selectedPageSize = _this$state2.selectedPageSize,\n          totalItemCount = _this$state2.totalItemCount,\n          selectedOrderOption = _this$state2.selectedOrderOption,\n          selectedItems = _this$state2.selectedItems,\n          orderOptions = _this$state2.orderOptions,\n          pageSizes = _this$state2.pageSizes,\n          modalOpen = _this$state2.modalOpen,\n          categories = _this$state2.categories;\n    const match = this.props.match;\n    const startIndex = (currentPage - 1) * selectedPageSize;\n    const endIndex = currentPage * selectedPageSize;\n    return !this.state.isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 7\n      }\n    }) : /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"disable-text-selection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ListPageHeading, {\n      heading: \"menu.storege\",\n      displayMode: displayMode,\n      changeDisplayMode: this.changeDisplayMode,\n      handleChangeSelectAll: this.handleChangeSelectAll,\n      changeOrderBy: this.changeOrderBy,\n      changePageSize: this.changePageSize,\n      selectedPageSize: selectedPageSize,\n      totalItemCount: totalItemCount,\n      selectedOrderOption: selectedOrderOption,\n      match: match,\n      startIndex: startIndex,\n      endIndex: endIndex,\n      selectedItemsLength: selectedItems ? selectedItems.length : 0,\n      itemsLength: items ? items.length : 0,\n      onSearchKey: this.onSearchKey,\n      orderOptions: orderOptions,\n      pageSizes: pageSizes,\n      toggleModal: this.toggleModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(AddNewModal, {\n      modalOpen: modalOpen,\n      toggleModal: this.toggleModal,\n      categories: categories,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }\n    }, this.state.items.map(product => {\n      if (this.state.displayMode === \"imagelist\") {\n        return /*#__PURE__*/React.createElement(ImageListView, {\n          key: product.id,\n          product: product,\n          isSelect: this.state.selectedItems.includes(product.id),\n          collect: collect,\n          onCheckItem: this.onCheckItem,\n          onClickItem: () => this.toggle(product.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 19\n          }\n        });\n      } else if (this.state.displayMode === \"thumblist\") {\n        return /*#__PURE__*/React.createElement(ThumbListView, {\n          key: product.id,\n          product: product,\n          isSelect: this.state.selectedItems.includes(product.id),\n          collect: collect,\n          onCheckItem: this.onCheckItem,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 19\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(DataListView, {\n          key: product.id,\n          product: product,\n          isSelect: this.state.selectedItems.includes(product.id),\n          onCheckItem: this.onCheckItem,\n          collect: collect,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 19\n          }\n        });\n      }\n    }), \" \", /*#__PURE__*/React.createElement(Pagination, {\n      currentPage: this.state.currentPage,\n      totalPage: this.state.totalPage,\n      onChangePage: i => this.onChangePage(i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ContextMenuContainer, {\n      onContextMenuClick: this.onContextMenuClick,\n      onContextMenu: this.onContextMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"modal.modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 11\n      }\n    }, Boolean(this.state.select_item) && /*#__PURE__*/React.createElement(VideoPlayer, {\n      autoplay: false,\n      controls: true,\n      className: \"video-js card-img video-content\",\n      poster: this.state.select_item.image,\n      sources: [{\n        src: this.state.select_item.video,\n        type: 'video/mp4'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 13\n      }\n    }, \"Do Something\"), \" \", /*#__PURE__*/React.createElement(Button, {\n      color: \"secondary\",\n      onClick: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 13\n      }\n    }, \"Cancel\"))));\n  }\n\n}\n\nexport default StoregePage;","map":{"version":3,"sources":["/Users/soier/Code/santa/studio_v2/src/views/studio/storege.js"],"names":["React","Component","Fragment","Row","Button","Modal","ModalHeader","ModalBody","ModalFooter","axios","servicePath","IntlMessages","VideoPlayer","DataListView","Pagination","ContextMenuContainer","ListPageHeading","ImageListView","ThumbListView","AddNewModal","collect","props","data","apiUrl","StoregePage","constructor","toggleModal","setState","modalOpen","state","changeOrderBy","column","selectedOrderOption","orderOptions","find","x","dataListRender","changePageSize","size","selectedPageSize","currentPage","changeDisplayMode","mode","displayMode","onChangePage","page","onSearchKey","e","key","search","target","value","toLowerCase","onCheckItem","event","id","tagName","parentElement","lastChecked","selectedItems","includes","filter","push","shiftKey","items","start","getIndex","end","slice","Math","min","max","map","item","Array","from","Set","document","activeElement","blur","handleChangeSelectAll","isToggle","length","onContextMenuClick","console","log","action","onContextMenu","clickedProductId","toggle","select_id","undefined","select_item","Boolean","type","name","date","profilePic","detail","image","video","prevState","modal","mouseTrap","require","label","pageSizes","categories","dropdownSplitOpen","totalItemCount","totalPage","isLoading","componentDidMount","bind","componentWillUnmount","unbind","arr","prop","i","get","then","res","totalItem","render","match","startIndex","endIndex","product","src"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SACEC,GADF,EAEEC,MAFF,EAGEC,KAHF,EAIEC,WAJF,EAKEC,SALF,EAMEC,WANF,QAOO,YAPP;AAQA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,WAAT,QAA4B,+BAA5B;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AAEA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,oBAAP,MAAiC,6CAAjC;AACA,OAAOC,eAAP,MAA4B,wCAA5B;AACA,OAAOC,aAAP,MAA0B,sCAA1B;AACA,OAAOC,aAAP,MAA0B,sCAA1B;AACA,OAAOC,WAAP,MAAwB,oCAAxB;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,SAAO;AAAEC,IAAAA,IAAI,EAAED,KAAK,CAACC;AAAd,GAAP;AACD;;AACD,MAAMC,MAAM,GAAGb,WAAW,GAAG,eAA7B;;AAEA,MAAMc,WAAN,SAA0BvB,SAA1B,CAAoC;AAClCwB,EAAAA,WAAW,CAACJ,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA0DnBK,WA1DmB,GA0DL,MAAM;AAClB,WAAKC,QAAL,CAAc;AACZC,QAAAA,SAAS,EAAE,CAAC,KAAKC,KAAL,CAAWD;AADX,OAAd;AAGD,KA9DkB;;AAAA,SAgEnBE,aAhEmB,GAgEHC,MAAM,IAAI;AACxB,WAAKJ,QAAL,CACE;AACEK,QAAAA,mBAAmB,EAAE,KAAKH,KAAL,CAAWI,YAAX,CAAwBC,IAAxB,CACnBC,CAAC,IAAIA,CAAC,CAACJ,MAAF,KAAaA,MADC;AADvB,OADF,EAME,MAAM,KAAKK,cAAL,EANR;AAQD,KAzEkB;;AAAA,SA0EnBC,cA1EmB,GA0EFC,IAAI,IAAI;AACvB,WAAKX,QAAL,CACE;AACEY,QAAAA,gBAAgB,EAAED,IADpB;AAEEE,QAAAA,WAAW,EAAE;AAFf,OADF,EAKE,MAAM,KAAKJ,cAAL,EALR;AAOD,KAlFkB;;AAAA,SAmFnBK,iBAnFmB,GAmFCC,IAAI,IAAI;AAC1B,WAAKf,QAAL,CAAc;AACZgB,QAAAA,WAAW,EAAED;AADD,OAAd;AAGA,aAAO,KAAP;AACD,KAxFkB;;AAAA,SAyFnBE,YAzFmB,GAyFJC,IAAI,IAAI;AACrB,WAAKlB,QAAL,CACE;AACEa,QAAAA,WAAW,EAAEK;AADf,OADF,EAIE,MAAM,KAAKT,cAAL,EAJR;AAMD,KAhGkB;;AAAA,SAkGnBU,WAlGmB,GAkGLC,CAAC,IAAI;AACjB,UAAIA,CAAC,CAACC,GAAF,KAAU,OAAd,EAAuB;AACrB,aAAKrB,QAAL,CACE;AACEsB,UAAAA,MAAM,EAAEF,CAAC,CAACG,MAAF,CAASC,KAAT,CAAeC,WAAf;AADV,SADF,EAIE,MAAM,KAAKhB,cAAL,EAJR;AAMD;AACF,KA3GkB;;AAAA,SA6GnBiB,WA7GmB,GA6GL,CAACC,KAAD,EAAQC,EAAR,KAAe;AAC3B,UACED,KAAK,CAACJ,MAAN,CAAaM,OAAb,KAAyB,GAAzB,IACCF,KAAK,CAACJ,MAAN,CAAaO,aAAb,IAA8BH,KAAK,CAACJ,MAAN,CAAaO,aAAb,CAA2BD,OAA3B,KAAuC,GAFxE,EAGE;AACA,eAAO,IAAP;AACD;;AACD,UAAI,KAAK3B,KAAL,CAAW6B,WAAX,KAA2B,IAA/B,EAAqC;AACnC,aAAK/B,QAAL,CAAc;AACZ+B,UAAAA,WAAW,EAAEH;AADD,SAAd;AAGD;;AAED,UAAII,aAAa,GAAG,KAAK9B,KAAL,CAAW8B,aAA/B;;AACA,UAAIA,aAAa,CAACC,QAAd,CAAuBL,EAAvB,CAAJ,EAAgC;AAC9BI,QAAAA,aAAa,GAAGA,aAAa,CAACE,MAAd,CAAqB1B,CAAC,IAAIA,CAAC,KAAKoB,EAAhC,CAAhB;AACD,OAFD,MAEO;AACLI,QAAAA,aAAa,CAACG,IAAd,CAAmBP,EAAnB;AACD;;AACD,WAAK5B,QAAL,CAAc;AACZgC,QAAAA;AADY,OAAd;;AAIA,UAAIL,KAAK,CAACS,QAAV,EAAoB;AAClB,YAAIC,KAAK,GAAG,KAAKnC,KAAL,CAAWmC,KAAvB;AACA,YAAIC,KAAK,GAAG,KAAKC,QAAL,CAAcX,EAAd,EAAkBS,KAAlB,EAAyB,IAAzB,CAAZ;AACA,YAAIG,GAAG,GAAG,KAAKD,QAAL,CAAc,KAAKrC,KAAL,CAAW6B,WAAzB,EAAsCM,KAAtC,EAA6C,IAA7C,CAAV;AACAA,QAAAA,KAAK,GAAGA,KAAK,CAACI,KAAN,CAAYC,IAAI,CAACC,GAAL,CAASL,KAAT,EAAgBE,GAAhB,CAAZ,EAAkCE,IAAI,CAACE,GAAL,CAASN,KAAT,EAAgBE,GAAhB,IAAuB,CAAzD,CAAR;AACAR,QAAAA,aAAa,CAACG,IAAd,CACE,GAAGE,KAAK,CAACQ,GAAN,CAAUC,IAAI,IAAI;AACnB,iBAAOA,IAAI,CAAClB,EAAZ;AACD,SAFE,CADL;AAKAI,QAAAA,aAAa,GAAGe,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQjB,aAAR,CAAX,CAAhB;AACA,aAAKhC,QAAL,CAAc;AACZgC,UAAAA;AADY,SAAd;AAGD;;AACDkB,MAAAA,QAAQ,CAACC,aAAT,CAAuBC,IAAvB;AACD,KApJkB;;AAAA,SA8JnBC,qBA9JmB,GA8JKC,QAAQ,IAAI;AAClC,UAAI,KAAKpD,KAAL,CAAW8B,aAAX,CAAyBuB,MAAzB,IAAmC,KAAKrD,KAAL,CAAWmC,KAAX,CAAiBkB,MAAxD,EAAgE;AAC9D,YAAID,QAAJ,EAAc;AACZ,eAAKtD,QAAL,CAAc;AACZgC,YAAAA,aAAa,EAAE;AADH,WAAd;AAGD;AACF,OAND,MAMO;AACL,aAAKhC,QAAL,CAAc;AACZgC,UAAAA,aAAa,EAAE,KAAK9B,KAAL,CAAWmC,KAAX,CAAiBQ,GAAjB,CAAqBrC,CAAC,IAAIA,CAAC,CAACoB,EAA5B;AADH,SAAd;AAGD;;AACDsB,MAAAA,QAAQ,CAACC,aAAT,CAAuBC,IAAvB;AACA,aAAO,KAAP;AACD,KA5KkB;;AAAA,SAyMnBI,kBAzMmB,GAyME,CAACpC,CAAD,EAAIzB,IAAJ,EAAU4B,MAAV,KAAqB;AACxCkC,MAAAA,OAAO,CAACC,GAAR,CACE,qCADF,EAEE,KAAKxD,KAAL,CAAW8B,aAFb;AAIAyB,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8C/D,IAAI,CAACgE,MAAnD;AACD,KA/MkB;;AAAA,SAiNnBC,aAjNmB,GAiNH,CAACxC,CAAD,EAAIzB,IAAJ,KAAa;AAC3B,YAAMkE,gBAAgB,GAAGlE,IAAI,CAACA,IAA9B;;AACA,UAAI,CAAC,KAAKO,KAAL,CAAW8B,aAAX,CAAyBC,QAAzB,CAAkC4B,gBAAlC,CAAL,EAA0D;AACxD,aAAK7D,QAAL,CAAc;AACZgC,UAAAA,aAAa,EAAE,CAAC6B,gBAAD;AADH,SAAd;AAGD;;AAED,aAAO,IAAP;AACD,KA1NkB;;AAAA,SA4NnBC,MA5NmB,GA4NV,CAACC,SAAS,GAAGC,SAAb,KAA2B;AAClC,UAAIC,WAAW,GAAGC,OAAO,CAACH,SAAD,CAAP,GAAqB;AACrCI,QAAAA,IAAI,EAAE,OAD+B;AAEnC;AACAC,QAAAA,IAAI,EAAE,cAH6B;AAInCC,QAAAA,IAAI,EAAE,gBAJ6B;AAKnCC,QAAAA,UAAU,EAAE,+BALuB;AAMnCC,QAAAA,MAAM,EAAE,wSAN2B;AAOnCC,QAAAA,KAAK,EAAE,0BAP4B;AAQnCC,QAAAA,KAAK,EAAE;AAR4B,OAArB,GASdV,SATJ;AAUA,WAAK/D,QAAL,CAAc0E,SAAS,KAAK;AAC1BC,QAAAA,KAAK,EAAE,CAACD,SAAS,CAACC,KADQ;AAE1BV,QAAAA;AAF0B,OAAL,CAAvB;AAID,KA3OkB;;AAEjB,SAAKW,SAAL,GAAiBC,OAAO,CAAC,WAAD,CAAxB;AAGA,SAAK3E,KAAL,GAAa;AACXc,MAAAA,WAAW,EAAE,WADF;AAGXJ,MAAAA,gBAAgB,EAAE,CAHP;AAIXN,MAAAA,YAAY,EAAE,CACZ;AAAEF,QAAAA,MAAM,EAAE,OAAV;AAAmB0E,QAAAA,KAAK,EAAE;AAA1B,OADY,EAEZ;AAAE1E,QAAAA,MAAM,EAAE,UAAV;AAAsB0E,QAAAA,KAAK,EAAE;AAA7B,OAFY,EAGZ;AAAE1E,QAAAA,MAAM,EAAE,QAAV;AAAoB0E,QAAAA,KAAK,EAAE;AAA3B,OAHY,CAJH;AASXC,MAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CATA;AAWXC,MAAAA,UAAU,EAAE,CACV;AAAEF,QAAAA,KAAK,EAAE,OAAT;AAAkBtD,QAAAA,KAAK,EAAE,OAAzB;AAAkCH,QAAAA,GAAG,EAAE;AAAvC,OADU,EAEV;AAAEyD,QAAAA,KAAK,EAAE,UAAT;AAAqBtD,QAAAA,KAAK,EAAE,UAA5B;AAAwCH,QAAAA,GAAG,EAAE;AAA7C,OAFU,EAGV;AAAEyD,QAAAA,KAAK,EAAE,UAAT;AAAqBtD,QAAAA,KAAK,EAAE,UAA5B;AAAwCH,QAAAA,GAAG,EAAE;AAA7C,OAHU,CAXD;AAiBXhB,MAAAA,mBAAmB,EAAE;AAAED,QAAAA,MAAM,EAAE,OAAV;AAAmB0E,QAAAA,KAAK,EAAE;AAA1B,OAjBV;AAkBXG,MAAAA,iBAAiB,EAAE,KAlBR;AAmBXhF,MAAAA,SAAS,EAAE,KAnBA;AAoBXY,MAAAA,WAAW,EAAE,CApBF;AAqBXqE,MAAAA,cAAc,EAAE,CArBL;AAsBXC,MAAAA,SAAS,EAAE,CAtBA;AAuBX7D,MAAAA,MAAM,EAAE,EAvBG;AAwBXU,MAAAA,aAAa,EAAE,EAxBJ;AAyBXD,MAAAA,WAAW,EAAE,IAzBF;AA0BXqD,MAAAA,SAAS,EAAE,KA1BA;AA2BXT,MAAAA,KAAK,EAAE,KA3BI;AA4BXV,MAAAA,WAAW,EAAED;AA5BF,KAAb;AA8BD;;AAEDqB,EAAAA,iBAAiB,GAAG;AAClB,SAAK5E,cAAL;AACA,SAAKmE,SAAL,CAAeU,IAAf,CAAoB,CAAC,QAAD,EAAW,WAAX,CAApB,EAA6C,MAC3C,KAAKjC,qBAAL,CAA2B,KAA3B,CADF;AAGA,SAAKuB,SAAL,CAAeU,IAAf,CAAoB,CAAC,QAAD,EAAW,WAAX,CAApB,EAA6C,MAAM;AACjD,WAAKtF,QAAL,CAAc;AACZgC,QAAAA,aAAa,EAAE;AADH,OAAd;AAGA,aAAO,KAAP;AACD,KALD;AAMD;;AAEDuD,EAAAA,oBAAoB,GAAG;AACrB,SAAKX,SAAL,CAAeY,MAAf,CAAsB,QAAtB;AACA,SAAKZ,SAAL,CAAeY,MAAf,CAAsB,WAAtB;AACA,SAAKZ,SAAL,CAAeY,MAAf,CAAsB,QAAtB;AACA,SAAKZ,SAAL,CAAeY,MAAf,CAAsB,WAAtB;AACD;;AA+FDjD,EAAAA,QAAQ,CAACf,KAAD,EAAQiE,GAAR,EAAaC,IAAb,EAAmB;AACzB,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAAClC,MAAxB,EAAgCoC,CAAC,EAAjC,EAAqC;AACnC,UAAIF,GAAG,CAACE,CAAD,CAAH,CAAOD,IAAP,MAAiBlE,KAArB,EAA4B;AAC1B,eAAOmE,CAAP;AACD;AACF;;AACD,WAAO,CAAC,CAAR;AACD;;AAiBDlF,EAAAA,cAAc,GAAG;AAAA,wBAMX,KAAKP,KANM;AAAA,UAEbU,gBAFa,eAEbA,gBAFa;AAAA,UAGbC,WAHa,eAGbA,WAHa;AAAA,UAIbR,mBAJa,eAIbA,mBAJa;AAAA,UAKbiB,MALa,eAKbA,MALa;AAOfxC,IAAAA,KAAK,CACF8G,GADH,WAEOhG,MAFP,uBAE0BgB,gBAF1B,0BAE0DC,WAF1D,sBAGMR,mBAAmB,CAACD,MAH1B,qBAIekB,MAJf,GAMGuE,IANH,CAMQC,GAAG,IAAI;AACX,aAAOA,GAAG,CAACnG,IAAX;AACD,KARH,EASGkG,IATH,CASQlG,IAAI,IAAI;AACZ,WAAKK,QAAL,CAAc;AACZmF,QAAAA,SAAS,EAAExF,IAAI,CAACwF,SADJ;AAEZ9C,QAAAA,KAAK,EAAE1C,IAAI,CAACA,IAFA;AAGZqC,QAAAA,aAAa,EAAE,EAHH;AAIZkD,QAAAA,cAAc,EAAEvF,IAAI,CAACoG,SAJT;AAKZX,QAAAA,SAAS,EAAE;AALC,OAAd;AAOD,KAjBH;AAkBD;;AAsCDY,EAAAA,MAAM,GAAG;AAAA,yBAaH,KAAK9F,KAbF;AAAA,UAELW,WAFK,gBAELA,WAFK;AAAA,UAGLwB,KAHK,gBAGLA,KAHK;AAAA,UAILrB,WAJK,gBAILA,WAJK;AAAA,UAKLJ,gBALK,gBAKLA,gBALK;AAAA,UAMLsE,cANK,gBAMLA,cANK;AAAA,UAOL7E,mBAPK,gBAOLA,mBAPK;AAAA,UAQL2B,aARK,gBAQLA,aARK;AAAA,UASL1B,YATK,gBASLA,YATK;AAAA,UAULyE,SAVK,gBAULA,SAVK;AAAA,UAWL9E,SAXK,gBAWLA,SAXK;AAAA,UAYL+E,UAZK,gBAYLA,UAZK;AAAA,UAcCiB,KAdD,GAcW,KAAKvG,KAdhB,CAcCuG,KAdD;AAeP,UAAMC,UAAU,GAAG,CAACrF,WAAW,GAAG,CAAf,IAAoBD,gBAAvC;AACA,UAAMuF,QAAQ,GAAGtF,WAAW,GAAGD,gBAA/B;AAEA,WAAO,CAAC,KAAKV,KAAL,CAAWkF,SAAZ,gBACL;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADK,gBAGL,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,eAAD;AACE,MAAA,OAAO,EAAC,cADV;AAEE,MAAA,WAAW,EAAEpE,WAFf;AAGE,MAAA,iBAAiB,EAAE,KAAKF,iBAH1B;AAIE,MAAA,qBAAqB,EAAE,KAAKuC,qBAJ9B;AAKE,MAAA,aAAa,EAAE,KAAKlD,aALtB;AAME,MAAA,cAAc,EAAE,KAAKO,cANvB;AAOE,MAAA,gBAAgB,EAAEE,gBAPpB;AAQE,MAAA,cAAc,EAAEsE,cARlB;AASE,MAAA,mBAAmB,EAAE7E,mBATvB;AAUE,MAAA,KAAK,EAAE4F,KAVT;AAWE,MAAA,UAAU,EAAEC,UAXd;AAYE,MAAA,QAAQ,EAAEC,QAZZ;AAaE,MAAA,mBAAmB,EAAEnE,aAAa,GAAGA,aAAa,CAACuB,MAAjB,GAA0B,CAb9D;AAcE,MAAA,WAAW,EAAElB,KAAK,GAAGA,KAAK,CAACkB,MAAT,GAAkB,CAdtC;AAeE,MAAA,WAAW,EAAE,KAAKpC,WAfpB;AAgBE,MAAA,YAAY,EAAEb,YAhBhB;AAiBE,MAAA,SAAS,EAAEyE,SAjBb;AAkBE,MAAA,WAAW,EAAE,KAAKhF,WAlBpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAqBE,oBAAC,WAAD;AACE,MAAA,SAAS,EAAEE,SADb;AAEE,MAAA,WAAW,EAAE,KAAKF,WAFpB;AAGE,MAAA,UAAU,EAAEiF,UAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,eA0BE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK9E,KAAL,CAAWmC,KAAX,CAAiBQ,GAAjB,CAAqBuD,OAAO,IAAI;AAC/B,UAAI,KAAKlG,KAAL,CAAWc,WAAX,KAA2B,WAA/B,EAA4C;AAC1C,4BACE,oBAAC,aAAD;AACE,UAAA,GAAG,EAAEoF,OAAO,CAACxE,EADf;AAEE,UAAA,OAAO,EAAEwE,OAFX;AAGE,UAAA,QAAQ,EAAE,KAAKlG,KAAL,CAAW8B,aAAX,CAAyBC,QAAzB,CAAkCmE,OAAO,CAACxE,EAA1C,CAHZ;AAIE,UAAA,OAAO,EAAEnC,OAJX;AAKE,UAAA,WAAW,EAAE,KAAKiC,WALpB;AAME,UAAA,WAAW,EAAE,MAAM,KAAKoC,MAAL,CAAYsC,OAAO,CAACxE,EAApB,CANrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD,OAXD,MAWO,IAAI,KAAK1B,KAAL,CAAWc,WAAX,KAA2B,WAA/B,EAA4C;AACjD,4BACE,oBAAC,aAAD;AACE,UAAA,GAAG,EAAEoF,OAAO,CAACxE,EADf;AAEE,UAAA,OAAO,EAAEwE,OAFX;AAGE,UAAA,QAAQ,EAAE,KAAKlG,KAAL,CAAW8B,aAAX,CAAyBC,QAAzB,CAAkCmE,OAAO,CAACxE,EAA1C,CAHZ;AAIE,UAAA,OAAO,EAAEnC,OAJX;AAKE,UAAA,WAAW,EAAE,KAAKiC,WALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD,OAVM,MAUA;AACL,4BACE,oBAAC,YAAD;AACE,UAAA,GAAG,EAAE0E,OAAO,CAACxE,EADf;AAEE,UAAA,OAAO,EAAEwE,OAFX;AAGE,UAAA,QAAQ,EAAE,KAAKlG,KAAL,CAAW8B,aAAX,CAAyBC,QAAzB,CAAkCmE,OAAO,CAACxE,EAA1C,CAHZ;AAIE,UAAA,WAAW,EAAE,KAAKF,WAJpB;AAKE,UAAA,OAAO,EAAEjC,OALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD;AACF,KAjCA,CADH,EAkCM,GAlCN,eAmCE,oBAAC,UAAD;AACE,MAAA,WAAW,EAAE,KAAKS,KAAL,CAAWW,WAD1B;AAEE,MAAA,SAAS,EAAE,KAAKX,KAAL,CAAWiF,SAFxB;AAGE,MAAA,YAAY,EAAEQ,CAAC,IAAI,KAAK1E,YAAL,CAAkB0E,CAAlB,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnCF,eAwCE,oBAAC,oBAAD;AACE,MAAA,kBAAkB,EAAE,KAAKnC,kBAD3B;AAEE,MAAA,aAAa,EAAE,KAAKI,aAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxCF,CA1BF,CADF,eAyEE,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAE,KAAK1D,KAAL,CAAWyE,KAA1B;AAAiC,MAAA,MAAM,EAAE,KAAKb,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AAAa,MAAA,MAAM,EAAE,KAAKA,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGI,OAAO,CAAC,KAAKhE,KAAL,CAAW+D,WAAZ,CAAP,iBACC,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAE,KAAvB;AAA8B,MAAA,QAAQ,EAAE,IAAxC;AAA8C,MAAA,SAAS,EAAC,iCAAxD;AAA0F,MAAA,MAAM,EAAE,KAAK/D,KAAL,CAAW+D,WAAX,CAAuBO,KAAzH;AACE,MAAA,OAAO,EAAE,CAAC;AACR6B,QAAAA,GAAG,EAAE,KAAKnG,KAAL,CAAW+D,WAAX,CAAuBQ,KADpB;AAERN,QAAAA,IAAI,EAAE;AAFE,OAAD,CADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAJF,eAaE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAE,KAAKL,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAGY,GAHZ,eAIE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,WAAd;AAA0B,MAAA,OAAO,EAAE,KAAKA,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,CAbF,CAzEF,CAHF;AAoGD;;AApWiC;;AAsWpC,eAAejE,WAAf","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport {\n  Row,\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n} from \"reactstrap\";\nimport axios from \"axios\";\n\nimport { servicePath } from \"../../constants/defaultValues\";\nimport IntlMessages from \"../../helpers/IntlMessages\";\nimport VideoPlayer from \"../../components/common/VideoPlayer\";\n\nimport DataListView from \"../../containers/pages/DataListView\";\nimport Pagination from \"../../containers/pages/Pagination\";\nimport ContextMenuContainer from \"../../containers/pages/ContextMenuContainer\";\nimport ListPageHeading from \"../../containers/pages/ListPageHeading\";\nimport ImageListView from \"../../containers/pages/ImageListView\";\nimport ThumbListView from \"../../containers/pages/ThumbListView\";\nimport AddNewModal from \"../../containers/pages/AddNewModal\";\n\nfunction collect(props) {\n  return { data: props.data };\n}\nconst apiUrl = servicePath + \"/cakes/paging\";\n\nclass StoregePage extends Component {\n  constructor(props) {\n    super(props);\n    this.mouseTrap = require('mousetrap');\n\n\n    this.state = {\n      displayMode: \"imagelist\",\n\n      selectedPageSize: 8,\n      orderOptions: [\n        { column: \"title\", label: \"Product Name\" },\n        { column: \"category\", label: \"Category\" },\n        { column: \"status\", label: \"Status\" }\n      ],\n      pageSizes: [8, 12, 24],\n\n      categories: [\n        { label: \"Cakes\", value: \"Cakes\", key: 0 },\n        { label: \"Cupcakes\", value: \"Cupcakes\", key: 1 },\n        { label: \"Desserts\", value: \"Desserts\", key: 2 }\n      ],\n\n      selectedOrderOption: { column: \"title\", label: \"Product Name\" },\n      dropdownSplitOpen: false,\n      modalOpen: false,\n      currentPage: 1,\n      totalItemCount: 0,\n      totalPage: 1,\n      search: \"\",\n      selectedItems: [],\n      lastChecked: null,\n      isLoading: false,\n      modal: false,\n      select_item: undefined,\n    };\n  }\n\n  componentDidMount() {\n    this.dataListRender();\n    this.mouseTrap.bind([\"ctrl+a\", \"command+a\"], () =>\n      this.handleChangeSelectAll(false)\n    );\n    this.mouseTrap.bind([\"ctrl+d\", \"command+d\"], () => {\n      this.setState({\n        selectedItems: []\n      });\n      return false;\n    });\n  }\n\n  componentWillUnmount() {\n    this.mouseTrap.unbind(\"ctrl+a\");\n    this.mouseTrap.unbind(\"command+a\");\n    this.mouseTrap.unbind(\"ctrl+d\");\n    this.mouseTrap.unbind(\"command+d\");\n  }\n\n\n  toggleModal = () => {\n    this.setState({\n      modalOpen: !this.state.modalOpen,\n    });\n  };\n\n  changeOrderBy = column => {\n    this.setState(\n      {\n        selectedOrderOption: this.state.orderOptions.find(\n          x => x.column === column\n        )\n      },\n      () => this.dataListRender()\n    );\n  };\n  changePageSize = size => {\n    this.setState(\n      {\n        selectedPageSize: size,\n        currentPage: 1\n      },\n      () => this.dataListRender()\n    );\n  };\n  changeDisplayMode = mode => {\n    this.setState({\n      displayMode: mode\n    });\n    return false;\n  };\n  onChangePage = page => {\n    this.setState(\n      {\n        currentPage: page\n      },\n      () => this.dataListRender()\n    );\n  };\n\n  onSearchKey = e => {\n    if (e.key === \"Enter\") {\n      this.setState(\n        {\n          search: e.target.value.toLowerCase()\n        },\n        () => this.dataListRender()\n      );\n    }\n  };\n\n  onCheckItem = (event, id) => {\n    if (\n      event.target.tagName === \"A\" ||\n      (event.target.parentElement && event.target.parentElement.tagName === \"A\")\n    ) {\n      return true;\n    }\n    if (this.state.lastChecked === null) {\n      this.setState({\n        lastChecked: id\n      });\n    }\n\n    let selectedItems = this.state.selectedItems;\n    if (selectedItems.includes(id)) {\n      selectedItems = selectedItems.filter(x => x !== id);\n    } else {\n      selectedItems.push(id);\n    }\n    this.setState({\n      selectedItems\n    });\n\n    if (event.shiftKey) {\n      var items = this.state.items;\n      var start = this.getIndex(id, items, \"id\");\n      var end = this.getIndex(this.state.lastChecked, items, \"id\");\n      items = items.slice(Math.min(start, end), Math.max(start, end) + 1);\n      selectedItems.push(\n        ...items.map(item => {\n          return item.id;\n        })\n      );\n      selectedItems = Array.from(new Set(selectedItems));\n      this.setState({\n        selectedItems\n      });\n    }\n    document.activeElement.blur();\n  };\n\n  getIndex(value, arr, prop) {\n    for (var i = 0; i < arr.length; i++) {\n      if (arr[i][prop] === value) {\n        return i;\n      }\n    }\n    return -1;\n  }\n  handleChangeSelectAll = isToggle => {\n    if (this.state.selectedItems.length >= this.state.items.length) {\n      if (isToggle) {\n        this.setState({\n          selectedItems: []\n        });\n      }\n    } else {\n      this.setState({\n        selectedItems: this.state.items.map(x => x.id)\n      });\n    }\n    document.activeElement.blur();\n    return false;\n  };\n\n  dataListRender() {\n    const {\n      selectedPageSize,\n      currentPage,\n      selectedOrderOption,\n      search\n    } = this.state;\n    axios\n      .get(\n        `${apiUrl}?pageSize=${selectedPageSize}&currentPage=${currentPage}&orderBy=${\n          selectedOrderOption.column\n        }&search=${search}`\n      )\n      .then(res => {\n        return res.data;\n      })\n      .then(data => {\n        this.setState({\n          totalPage: data.totalPage,\n          items: data.data,\n          selectedItems: [],\n          totalItemCount: data.totalItem,\n          isLoading: true\n        });\n      });\n  }\n\n  onContextMenuClick = (e, data, target) => {\n    console.log(\n      \"onContextMenuClick - selected items\",\n      this.state.selectedItems\n    );\n    console.log(\"onContextMenuClick - action : \", data.action);\n  };\n\n  onContextMenu = (e, data) => {\n    const clickedProductId = data.data;\n    if (!this.state.selectedItems.includes(clickedProductId)) {\n      this.setState({\n        selectedItems: [clickedProductId]\n      });\n    }\n\n    return true;\n  };\n\n  toggle = (select_id = undefined) => {\n    let select_item = Boolean(select_id) ? {\n      type: \"video\",\n        // type: \"image\",\n        name: 'Mayra Sibley',\n        date: '10 minutes ago',\n        profilePic: '/assets/img/profile-pic-l.jpg',\n        detail: 'Iâ€™m a web developer. I spend my whole day, practically every day, experimenting with HTML, CSS, and JavaScript; dabbling with Python and Ruby; and inhaling a wide variety of potentially useless information through a few hundred RSS feeds. I build websites that delight and inform. I do it well.',\n        image: \"/assets/img/detail-5.jpg\",\n        video: \"http://distribution.bbb3d.renderfarming.net/video/mp4/bbb_sunflower_1080p_30fps_normal.mp4\",\n    } : select_id\n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      select_item,\n    }));\n  };\n\n  render() {\n    const {\n      currentPage,\n      items,\n      displayMode,\n      selectedPageSize,\n      totalItemCount,\n      selectedOrderOption,\n      selectedItems,\n      orderOptions,\n      pageSizes,\n      modalOpen,\n      categories\n    } = this.state;\n    const { match } = this.props;\n    const startIndex = (currentPage - 1) * selectedPageSize;\n    const endIndex = currentPage * selectedPageSize;\n\n    return !this.state.isLoading ? (\n      <div className=\"loading\" />\n    ) : (\n      <Fragment>\n        <div className=\"disable-text-selection\">\n          <ListPageHeading\n            heading=\"menu.storege\"\n            displayMode={displayMode}\n            changeDisplayMode={this.changeDisplayMode}\n            handleChangeSelectAll={this.handleChangeSelectAll}\n            changeOrderBy={this.changeOrderBy}\n            changePageSize={this.changePageSize}\n            selectedPageSize={selectedPageSize}\n            totalItemCount={totalItemCount}\n            selectedOrderOption={selectedOrderOption}\n            match={match}\n            startIndex={startIndex}\n            endIndex={endIndex}\n            selectedItemsLength={selectedItems ? selectedItems.length : 0}\n            itemsLength={items ? items.length : 0}\n            onSearchKey={this.onSearchKey}\n            orderOptions={orderOptions}\n            pageSizes={pageSizes}\n            toggleModal={this.toggleModal}\n          />\n          <AddNewModal\n            modalOpen={modalOpen}\n            toggleModal={this.toggleModal}\n            categories={categories}\n          />\n          <Row>\n            {this.state.items.map(product => {\n              if (this.state.displayMode === \"imagelist\") {\n                return (\n                  <ImageListView\n                    key={product.id}\n                    product={product}\n                    isSelect={this.state.selectedItems.includes(product.id)}\n                    collect={collect}\n                    onCheckItem={this.onCheckItem}\n                    onClickItem={() => this.toggle(product.id)}\n                  />\n                );\n              } else if (this.state.displayMode === \"thumblist\") {\n                return (\n                  <ThumbListView\n                    key={product.id}\n                    product={product}\n                    isSelect={this.state.selectedItems.includes(product.id)}\n                    collect={collect}\n                    onCheckItem={this.onCheckItem}\n                  />\n                );\n              } else {\n                return (\n                  <DataListView\n                    key={product.id}\n                    product={product}\n                    isSelect={this.state.selectedItems.includes(product.id)}\n                    onCheckItem={this.onCheckItem}\n                    collect={collect}\n                  />\n                );\n              }\n            })}{\" \"}\n            <Pagination\n              currentPage={this.state.currentPage}\n              totalPage={this.state.totalPage}\n              onChangePage={i => this.onChangePage(i)}\n            />\n            <ContextMenuContainer\n              onContextMenuClick={this.onContextMenuClick}\n              onContextMenu={this.onContextMenu}\n            />\n          </Row>\n        </div>\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>\n            <IntlMessages id=\"modal.modal-title\" />\n          </ModalHeader>\n          <ModalBody>\n            {Boolean(this.state.select_item) &&\n              <VideoPlayer autoplay={false} controls={true} className=\"video-js card-img video-content\" poster={this.state.select_item.image}\n                sources={[{\n                  src: this.state.select_item.video,\n                  type: 'video/mp4'\n              }]} />\n            }\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.toggle}>\n              Do Something\n            </Button>{\" \"}\n            <Button color=\"secondary\" onClick={this.toggle}>\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </Fragment>\n    );\n  }\n}\nexport default StoregePage;\n"]},"metadata":{},"sourceType":"module"}